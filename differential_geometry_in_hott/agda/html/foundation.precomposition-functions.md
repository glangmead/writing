# Precomposition of functions

<pre class="Agda"><a id="40" class="Keyword">module</a> <a id="47" href="foundation.precomposition-functions.html" class="Module">foundation.precomposition-functions</a> <a id="83" class="Keyword">where</a>

<a id="90" class="Keyword">open</a> <a id="95" class="Keyword">import</a> <a id="102" href="foundation-core.precomposition-functions.html" class="Module">foundation-core.precomposition-functions</a> <a id="143" class="Keyword">public</a>
</pre>
<details><summary>Imports</summary>

<pre class="Agda"><a id="200" class="Keyword">open</a> <a id="205" class="Keyword">import</a> <a id="212" href="foundation.action-on-identifications-functions.html" class="Module">foundation.action-on-identifications-functions</a>
<a id="259" class="Keyword">open</a> <a id="264" class="Keyword">import</a> <a id="271" href="foundation.dependent-pair-types.html" class="Module">foundation.dependent-pair-types</a>
<a id="303" class="Keyword">open</a> <a id="308" class="Keyword">import</a> <a id="315" href="foundation.precomposition-dependent-functions.html" class="Module">foundation.precomposition-dependent-functions</a>
<a id="361" class="Keyword">open</a> <a id="366" class="Keyword">import</a> <a id="373" href="foundation.sections.html" class="Module">foundation.sections</a>
<a id="393" class="Keyword">open</a> <a id="398" class="Keyword">import</a> <a id="405" href="foundation.universe-levels.html" class="Module">foundation.universe-levels</a>

<a id="433" class="Keyword">open</a> <a id="438" class="Keyword">import</a> <a id="445" href="foundation-core.commuting-squares-of-maps.html" class="Module">foundation-core.commuting-squares-of-maps</a>
<a id="487" class="Keyword">open</a> <a id="492" class="Keyword">import</a> <a id="499" href="foundation-core.commuting-triangles-of-maps.html" class="Module">foundation-core.commuting-triangles-of-maps</a>
<a id="543" class="Keyword">open</a> <a id="548" class="Keyword">import</a> <a id="555" href="foundation-core.equivalences.html" class="Module">foundation-core.equivalences</a>
<a id="584" class="Keyword">open</a> <a id="589" class="Keyword">import</a> <a id="596" href="foundation-core.fibers-of-maps.html" class="Module">foundation-core.fibers-of-maps</a>
<a id="627" class="Keyword">open</a> <a id="632" class="Keyword">import</a> <a id="639" href="foundation-core.function-extensionality.html" class="Module">foundation-core.function-extensionality</a>
<a id="679" class="Keyword">open</a> <a id="684" class="Keyword">import</a> <a id="691" href="foundation-core.function-types.html" class="Module">foundation-core.function-types</a>
<a id="722" class="Keyword">open</a> <a id="727" class="Keyword">import</a> <a id="734" href="foundation-core.functoriality-dependent-pair-types.html" class="Module">foundation-core.functoriality-dependent-pair-types</a>
<a id="785" class="Keyword">open</a> <a id="790" class="Keyword">import</a> <a id="797" href="foundation-core.homotopies.html" class="Module">foundation-core.homotopies</a>
<a id="824" class="Keyword">open</a> <a id="829" class="Keyword">import</a> <a id="836" href="foundation-core.identity-types.html" class="Module">foundation-core.identity-types</a>
<a id="867" class="Keyword">open</a> <a id="872" class="Keyword">import</a> <a id="879" href="foundation-core.retractions.html" class="Module">foundation-core.retractions</a>
<a id="907" class="Keyword">open</a> <a id="912" class="Keyword">import</a> <a id="919" href="foundation-core.whiskering-homotopies.html" class="Module">foundation-core.whiskering-homotopies</a>

<a id="958" class="Keyword">open</a> <a id="963" class="Keyword">import</a> <a id="970" href="synthetic-homotopy-theory.cocones-under-spans.html" class="Module">synthetic-homotopy-theory.cocones-under-spans</a>
</pre>
</details>

## Idea

Given a function `f : A → B` and a type `X`, the **precomposition function** by
`f`

```text
  - ∘ f : (B → X) → (A → X)
```

is defined by `λ h x → h (f x)`.

The precomposition function was already defined in
[`foundation-core.precomposition-functions`](foundation-core.precomposition-functions.md).
In this file we derive some further properties of the precomposition function.

## Properties

### Precomposition preserves homotopies

<pre class="Agda"><a id="htpy-precomp"></a><a id="1488" href="foundation.precomposition-functions.html#1488" class="Function">htpy-precomp</a> <a id="1501" class="Symbol">:</a>
  <a id="1505" class="Symbol">{</a><a id="1506" href="foundation.precomposition-functions.html#1506" class="Bound">l1</a> <a id="1509" href="foundation.precomposition-functions.html#1509" class="Bound">l2</a> <a id="1512" href="foundation.precomposition-functions.html#1512" class="Bound">l3</a> <a id="1515" class="Symbol">:</a> <a id="1517" href="Agda.Primitive.html#742" class="Postulate">Level</a><a id="1522" class="Symbol">}</a> <a id="1524" class="Symbol">{</a><a id="1525" href="foundation.precomposition-functions.html#1525" class="Bound">A</a> <a id="1527" class="Symbol">:</a> <a id="1529" href="Agda.Primitive.html#388" class="Primitive">UU</a> <a id="1532" href="foundation.precomposition-functions.html#1506" class="Bound">l1</a><a id="1534" class="Symbol">}</a> <a id="1536" class="Symbol">{</a><a id="1537" href="foundation.precomposition-functions.html#1537" class="Bound">B</a> <a id="1539" class="Symbol">:</a> <a id="1541" href="Agda.Primitive.html#388" class="Primitive">UU</a> <a id="1544" href="foundation.precomposition-functions.html#1509" class="Bound">l2</a><a id="1546" class="Symbol">}</a>
  <a id="1550" class="Symbol">{</a><a id="1551" href="foundation.precomposition-functions.html#1551" class="Bound">f</a> <a id="1553" href="foundation.precomposition-functions.html#1553" class="Bound">g</a> <a id="1555" class="Symbol">:</a> <a id="1557" href="foundation.precomposition-functions.html#1525" class="Bound">A</a> <a id="1559" class="Symbol">→</a> <a id="1561" href="foundation.precomposition-functions.html#1537" class="Bound">B</a><a id="1562" class="Symbol">}</a> <a id="1564" class="Symbol">(</a><a id="1565" href="foundation.precomposition-functions.html#1565" class="Bound">H</a> <a id="1567" class="Symbol">:</a> <a id="1569" href="foundation.precomposition-functions.html#1551" class="Bound">f</a> <a id="1571" href="foundation-core.homotopies.html#2717" class="Function Operator">~</a> <a id="1573" href="foundation.precomposition-functions.html#1553" class="Bound">g</a><a id="1574" class="Symbol">)</a> <a id="1576" class="Symbol">(</a><a id="1577" href="foundation.precomposition-functions.html#1577" class="Bound">C</a> <a id="1579" class="Symbol">:</a> <a id="1581" href="Agda.Primitive.html#388" class="Primitive">UU</a> <a id="1584" href="foundation.precomposition-functions.html#1512" class="Bound">l3</a><a id="1586" class="Symbol">)</a> <a id="1588" class="Symbol">→</a>
  <a id="1592" href="foundation-core.precomposition-functions.html#582" class="Function">precomp</a> <a id="1600" href="foundation.precomposition-functions.html#1551" class="Bound">f</a> <a id="1602" href="foundation.precomposition-functions.html#1577" class="Bound">C</a> <a id="1604" href="foundation-core.homotopies.html#2717" class="Function Operator">~</a> <a id="1606" href="foundation-core.precomposition-functions.html#582" class="Function">precomp</a> <a id="1614" href="foundation.precomposition-functions.html#1553" class="Bound">g</a> <a id="1616" href="foundation.precomposition-functions.html#1577" class="Bound">C</a>
<a id="1618" href="foundation.precomposition-functions.html#1488" class="Function">htpy-precomp</a> <a id="1631" href="foundation.precomposition-functions.html#1631" class="Bound">H</a> <a id="1633" href="foundation.precomposition-functions.html#1633" class="Bound">C</a> <a id="1635" href="foundation.precomposition-functions.html#1635" class="Bound">h</a> <a id="1637" class="Symbol">=</a> <a id="1639" href="foundation-core.function-extensionality.html#3024" class="Function">eq-htpy</a> <a id="1647" class="Symbol">(</a><a id="1648" href="foundation.precomposition-functions.html#1635" class="Bound">h</a> <a id="1650" href="foundation-core.whiskering-homotopies.html#1637" class="Function Operator">·l</a> <a id="1653" href="foundation.precomposition-functions.html#1631" class="Bound">H</a><a id="1654" class="Symbol">)</a>

<a id="compute-htpy-precomp-refl-htpy"></a><a id="1657" href="foundation.precomposition-functions.html#1657" class="Function">compute-htpy-precomp-refl-htpy</a> <a id="1688" class="Symbol">:</a>
  <a id="1692" class="Symbol">{</a><a id="1693" href="foundation.precomposition-functions.html#1693" class="Bound">l1</a> <a id="1696" href="foundation.precomposition-functions.html#1696" class="Bound">l2</a> <a id="1699" href="foundation.precomposition-functions.html#1699" class="Bound">l3</a> <a id="1702" class="Symbol">:</a> <a id="1704" href="Agda.Primitive.html#742" class="Postulate">Level</a><a id="1709" class="Symbol">}</a> <a id="1711" class="Symbol">{</a><a id="1712" href="foundation.precomposition-functions.html#1712" class="Bound">A</a> <a id="1714" class="Symbol">:</a> <a id="1716" href="Agda.Primitive.html#388" class="Primitive">UU</a> <a id="1719" href="foundation.precomposition-functions.html#1693" class="Bound">l1</a><a id="1721" class="Symbol">}</a> <a id="1723" class="Symbol">{</a><a id="1724" href="foundation.precomposition-functions.html#1724" class="Bound">B</a> <a id="1726" class="Symbol">:</a> <a id="1728" href="Agda.Primitive.html#388" class="Primitive">UU</a> <a id="1731" href="foundation.precomposition-functions.html#1696" class="Bound">l2</a><a id="1733" class="Symbol">}</a> <a id="1735" class="Symbol">(</a><a id="1736" href="foundation.precomposition-functions.html#1736" class="Bound">f</a> <a id="1738" class="Symbol">:</a> <a id="1740" href="foundation.precomposition-functions.html#1712" class="Bound">A</a> <a id="1742" class="Symbol">→</a> <a id="1744" href="foundation.precomposition-functions.html#1724" class="Bound">B</a><a id="1745" class="Symbol">)</a> <a id="1747" class="Symbol">(</a><a id="1748" href="foundation.precomposition-functions.html#1748" class="Bound">C</a> <a id="1750" class="Symbol">:</a> <a id="1752" href="Agda.Primitive.html#388" class="Primitive">UU</a> <a id="1755" href="foundation.precomposition-functions.html#1699" class="Bound">l3</a><a id="1757" class="Symbol">)</a> <a id="1759" class="Symbol">→</a>
  <a id="1763" href="foundation.precomposition-functions.html#1488" class="Function">htpy-precomp</a> <a id="1776" class="Symbol">(</a><a id="1777" href="foundation-core.homotopies.html#2970" class="Function">refl-htpy&#39;</a> <a id="1788" href="foundation.precomposition-functions.html#1736" class="Bound">f</a><a id="1789" class="Symbol">)</a> <a id="1791" href="foundation.precomposition-functions.html#1748" class="Bound">C</a> <a id="1793" href="foundation-core.homotopies.html#2717" class="Function Operator">~</a> <a id="1795" href="foundation-core.homotopies.html#2906" class="Function">refl-htpy</a>
<a id="1805" href="foundation.precomposition-functions.html#1657" class="Function">compute-htpy-precomp-refl-htpy</a> <a id="1836" href="foundation.precomposition-functions.html#1836" class="Bound">f</a> <a id="1838" href="foundation.precomposition-functions.html#1838" class="Bound">C</a> <a id="1840" href="foundation.precomposition-functions.html#1840" class="Bound">h</a> <a id="1842" class="Symbol">=</a> <a id="1844" href="foundation-core.function-extensionality.html#3630" class="Function">eq-htpy-refl-htpy</a> <a id="1862" class="Symbol">(</a><a id="1863" href="foundation.precomposition-functions.html#1840" class="Bound">h</a> <a id="1865" href="foundation-core.function-types.html#455" class="Function Operator">∘</a> <a id="1867" href="foundation.precomposition-functions.html#1836" class="Bound">f</a><a id="1868" class="Symbol">)</a>
</pre>
### Precomposition preserves concatenation of homotopies

<pre class="Agda"><a id="compute-concat-htpy-precomp"></a><a id="1941" href="foundation.precomposition-functions.html#1941" class="Function">compute-concat-htpy-precomp</a> <a id="1969" class="Symbol">:</a>
  <a id="1973" class="Symbol">{</a> <a id="1975" href="foundation.precomposition-functions.html#1975" class="Bound">l1</a> <a id="1978" href="foundation.precomposition-functions.html#1978" class="Bound">l2</a> <a id="1981" href="foundation.precomposition-functions.html#1981" class="Bound">l3</a> <a id="1984" class="Symbol">:</a> <a id="1986" href="Agda.Primitive.html#742" class="Postulate">Level</a><a id="1991" class="Symbol">}</a> <a id="1993" class="Symbol">{</a><a id="1994" href="foundation.precomposition-functions.html#1994" class="Bound">A</a> <a id="1996" class="Symbol">:</a> <a id="1998" href="Agda.Primitive.html#388" class="Primitive">UU</a> <a id="2001" href="foundation.precomposition-functions.html#1975" class="Bound">l1</a><a id="2003" class="Symbol">}</a> <a id="2005" class="Symbol">{</a><a id="2006" href="foundation.precomposition-functions.html#2006" class="Bound">B</a> <a id="2008" class="Symbol">:</a> <a id="2010" href="Agda.Primitive.html#388" class="Primitive">UU</a> <a id="2013" href="foundation.precomposition-functions.html#1978" class="Bound">l2</a><a id="2015" class="Symbol">}</a>
  <a id="2019" class="Symbol">{</a> <a id="2021" href="foundation.precomposition-functions.html#2021" class="Bound">f</a> <a id="2023" href="foundation.precomposition-functions.html#2023" class="Bound">g</a> <a id="2025" href="foundation.precomposition-functions.html#2025" class="Bound">h</a> <a id="2027" class="Symbol">:</a> <a id="2029" href="foundation.precomposition-functions.html#1994" class="Bound">A</a> <a id="2031" class="Symbol">→</a> <a id="2033" href="foundation.precomposition-functions.html#2006" class="Bound">B</a><a id="2034" class="Symbol">}</a> <a id="2036" class="Symbol">(</a><a id="2037" href="foundation.precomposition-functions.html#2037" class="Bound">H</a> <a id="2039" class="Symbol">:</a> <a id="2041" href="foundation.precomposition-functions.html#2021" class="Bound">f</a> <a id="2043" href="foundation-core.homotopies.html#2717" class="Function Operator">~</a> <a id="2045" href="foundation.precomposition-functions.html#2023" class="Bound">g</a><a id="2046" class="Symbol">)</a> <a id="2048" class="Symbol">(</a><a id="2049" href="foundation.precomposition-functions.html#2049" class="Bound">K</a> <a id="2051" class="Symbol">:</a> <a id="2053" href="foundation.precomposition-functions.html#2023" class="Bound">g</a> <a id="2055" href="foundation-core.homotopies.html#2717" class="Function Operator">~</a> <a id="2057" href="foundation.precomposition-functions.html#2025" class="Bound">h</a><a id="2058" class="Symbol">)</a> <a id="2060" class="Symbol">(</a><a id="2061" href="foundation.precomposition-functions.html#2061" class="Bound">C</a> <a id="2063" class="Symbol">:</a> <a id="2065" href="Agda.Primitive.html#388" class="Primitive">UU</a> <a id="2068" href="foundation.precomposition-functions.html#1981" class="Bound">l3</a><a id="2070" class="Symbol">)</a> <a id="2072" class="Symbol">→</a>
  <a id="2076" href="foundation.precomposition-functions.html#1488" class="Function">htpy-precomp</a> <a id="2089" class="Symbol">(</a><a id="2090" href="foundation.precomposition-functions.html#2037" class="Bound">H</a> <a id="2092" href="foundation-core.homotopies.html#3281" class="Function Operator">∙h</a> <a id="2095" href="foundation.precomposition-functions.html#2049" class="Bound">K</a><a id="2096" class="Symbol">)</a> <a id="2098" href="foundation.precomposition-functions.html#2061" class="Bound">C</a> <a id="2100" href="foundation-core.homotopies.html#2717" class="Function Operator">~</a> <a id="2102" href="foundation.precomposition-functions.html#1488" class="Function">htpy-precomp</a> <a id="2115" href="foundation.precomposition-functions.html#2037" class="Bound">H</a> <a id="2117" href="foundation.precomposition-functions.html#2061" class="Bound">C</a> <a id="2119" href="foundation-core.homotopies.html#3281" class="Function Operator">∙h</a> <a id="2122" href="foundation.precomposition-functions.html#1488" class="Function">htpy-precomp</a> <a id="2135" href="foundation.precomposition-functions.html#2049" class="Bound">K</a> <a id="2137" href="foundation.precomposition-functions.html#2061" class="Bound">C</a>
<a id="2139" href="foundation.precomposition-functions.html#1941" class="Function">compute-concat-htpy-precomp</a> <a id="2167" href="foundation.precomposition-functions.html#2167" class="Bound">H</a> <a id="2169" href="foundation.precomposition-functions.html#2169" class="Bound">K</a> <a id="2171" href="foundation.precomposition-functions.html#2171" class="Bound">C</a> <a id="2173" href="foundation.precomposition-functions.html#2173" class="Bound">k</a> <a id="2175" class="Symbol">=</a>
  <a id="2179" class="Symbol">(</a> <a id="2181" href="foundation.action-on-identifications-functions.html#730" class="Function">ap</a>
    <a id="2188" class="Symbol">(</a> <a id="2190" href="foundation-core.function-extensionality.html#3024" class="Function">eq-htpy</a><a id="2197" class="Symbol">)</a>
    <a id="2203" class="Symbol">(</a> <a id="2205" href="foundation-core.function-extensionality.html#3024" class="Function">eq-htpy</a> <a id="2213" class="Symbol">(</a><a id="2214" href="foundation-core.whiskering-homotopies.html#4679" class="Function">distributive-left-whisk-concat-htpy</a> <a id="2250" href="foundation.precomposition-functions.html#2173" class="Bound">k</a> <a id="2252" href="foundation.precomposition-functions.html#2167" class="Bound">H</a> <a id="2254" href="foundation.precomposition-functions.html#2169" class="Bound">K</a><a id="2255" class="Symbol">)))</a> <a id="2259" href="foundation-core.identity-types.html#2902" class="Function Operator">∙</a>
  <a id="2263" class="Symbol">(</a> <a id="2265" href="foundation-core.function-extensionality.html#9325" class="Function">eq-htpy-concat-htpy</a> <a id="2285" class="Symbol">(</a><a id="2286" href="foundation.precomposition-functions.html#2173" class="Bound">k</a> <a id="2288" href="foundation-core.whiskering-homotopies.html#1637" class="Function Operator">·l</a> <a id="2291" href="foundation.precomposition-functions.html#2167" class="Bound">H</a><a id="2292" class="Symbol">)</a> <a id="2294" class="Symbol">(</a><a id="2295" href="foundation.precomposition-functions.html#2173" class="Bound">k</a> <a id="2297" href="foundation-core.whiskering-homotopies.html#1637" class="Function Operator">·l</a> <a id="2300" href="foundation.precomposition-functions.html#2169" class="Bound">K</a><a id="2301" class="Symbol">))</a>
</pre>
### If precomposition `- ∘ f : (Y → X) → (X → X)` has a section, then `f` has a retraction

<pre class="Agda"><a id="2409" class="Keyword">module</a> <a id="2416" href="foundation.precomposition-functions.html#2416" class="Module">_</a>
  <a id="2420" class="Symbol">{</a><a id="2421" href="foundation.precomposition-functions.html#2421" class="Bound">l1</a> <a id="2424" href="foundation.precomposition-functions.html#2424" class="Bound">l2</a> <a id="2427" class="Symbol">:</a> <a id="2429" href="Agda.Primitive.html#742" class="Postulate">Level</a><a id="2434" class="Symbol">}</a> <a id="2436" class="Symbol">{</a><a id="2437" href="foundation.precomposition-functions.html#2437" class="Bound">X</a> <a id="2439" class="Symbol">:</a> <a id="2441" href="Agda.Primitive.html#388" class="Primitive">UU</a> <a id="2444" href="foundation.precomposition-functions.html#2421" class="Bound">l1</a><a id="2446" class="Symbol">}</a> <a id="2448" class="Symbol">{</a><a id="2449" href="foundation.precomposition-functions.html#2449" class="Bound">Y</a> <a id="2451" class="Symbol">:</a> <a id="2453" href="Agda.Primitive.html#388" class="Primitive">UU</a> <a id="2456" href="foundation.precomposition-functions.html#2424" class="Bound">l2</a><a id="2458" class="Symbol">}</a> <a id="2460" class="Symbol">(</a><a id="2461" href="foundation.precomposition-functions.html#2461" class="Bound">f</a> <a id="2463" class="Symbol">:</a> <a id="2465" href="foundation.precomposition-functions.html#2437" class="Bound">X</a> <a id="2467" class="Symbol">→</a> <a id="2469" href="foundation.precomposition-functions.html#2449" class="Bound">Y</a><a id="2470" class="Symbol">)</a>
  <a id="2474" class="Keyword">where</a>

  <a id="2483" href="foundation.precomposition-functions.html#2483" class="Function">retraction-section-precomp-domain</a> <a id="2517" class="Symbol">:</a> <a id="2519" href="foundation-core.sections.html#1366" class="Function">section</a> <a id="2527" class="Symbol">(</a><a id="2528" href="foundation-core.precomposition-functions.html#582" class="Function">precomp</a> <a id="2536" href="foundation.precomposition-functions.html#2461" class="Bound">f</a> <a id="2538" href="foundation.precomposition-functions.html#2437" class="Bound">X</a><a id="2539" class="Symbol">)</a> <a id="2541" class="Symbol">→</a> <a id="2543" href="foundation-core.retractions.html#867" class="Function">retraction</a> <a id="2554" href="foundation.precomposition-functions.html#2461" class="Bound">f</a>
  <a id="2558" href="foundation.dependent-pair-types.html#603" class="Field">pr1</a> <a id="2562" class="Symbol">(</a><a id="2563" href="foundation.precomposition-functions.html#2483" class="Function">retraction-section-precomp-domain</a> <a id="2597" href="foundation.precomposition-functions.html#2597" class="Bound">s</a><a id="2598" class="Symbol">)</a> <a id="2600" class="Symbol">=</a>
    <a id="2606" href="foundation-core.sections.html#1429" class="Function">map-section</a> <a id="2618" class="Symbol">(</a><a id="2619" href="foundation-core.precomposition-functions.html#582" class="Function">precomp</a> <a id="2627" href="foundation.precomposition-functions.html#2461" class="Bound">f</a> <a id="2629" href="foundation.precomposition-functions.html#2437" class="Bound">X</a><a id="2630" class="Symbol">)</a> <a id="2632" href="foundation.precomposition-functions.html#2597" class="Bound">s</a> <a id="2634" href="foundation-core.function-types.html#307" class="Function">id</a>
  <a id="2639" href="foundation.dependent-pair-types.html#615" class="Field">pr2</a> <a id="2643" class="Symbol">(</a><a id="2644" href="foundation.precomposition-functions.html#2483" class="Function">retraction-section-precomp-domain</a> <a id="2678" href="foundation.precomposition-functions.html#2678" class="Bound">s</a><a id="2679" class="Symbol">)</a> <a id="2681" class="Symbol">=</a>
    <a id="2687" href="foundation-core.function-extensionality.html#1416" class="Function">htpy-eq</a> <a id="2695" class="Symbol">(</a><a id="2696" href="foundation-core.sections.html#1482" class="Function">is-section-map-section</a> <a id="2719" class="Symbol">(</a><a id="2720" href="foundation-core.precomposition-functions.html#582" class="Function">precomp</a> <a id="2728" href="foundation.precomposition-functions.html#2461" class="Bound">f</a> <a id="2730" href="foundation.precomposition-functions.html#2437" class="Bound">X</a><a id="2731" class="Symbol">)</a> <a id="2733" href="foundation.precomposition-functions.html#2678" class="Bound">s</a> <a id="2735" href="foundation-core.function-types.html#307" class="Function">id</a><a id="2737" class="Symbol">)</a>
</pre>
### Equivalences induce an equivalence from the type of homotopies between two maps to the type of homotopies between their precomposites

<pre class="Agda"><a id="2891" class="Keyword">module</a> <a id="2898" href="foundation.precomposition-functions.html#2898" class="Module">_</a>
  <a id="2902" class="Symbol">{</a> <a id="2904" href="foundation.precomposition-functions.html#2904" class="Bound">l1</a> <a id="2907" href="foundation.precomposition-functions.html#2907" class="Bound">l2</a> <a id="2910" href="foundation.precomposition-functions.html#2910" class="Bound">l3</a> <a id="2913" class="Symbol">:</a> <a id="2915" href="Agda.Primitive.html#742" class="Postulate">Level</a><a id="2920" class="Symbol">}</a> <a id="2922" class="Symbol">{</a><a id="2923" href="foundation.precomposition-functions.html#2923" class="Bound">A</a> <a id="2925" class="Symbol">:</a> <a id="2927" href="Agda.Primitive.html#388" class="Primitive">UU</a> <a id="2930" href="foundation.precomposition-functions.html#2904" class="Bound">l1</a><a id="2932" class="Symbol">}</a> <a id="2934" class="Symbol">{</a><a id="2935" href="foundation.precomposition-functions.html#2935" class="Bound">B</a> <a id="2937" class="Symbol">:</a> <a id="2939" href="Agda.Primitive.html#388" class="Primitive">UU</a> <a id="2942" href="foundation.precomposition-functions.html#2907" class="Bound">l2</a><a id="2944" class="Symbol">}</a> <a id="2946" class="Symbol">{</a><a id="2947" href="foundation.precomposition-functions.html#2947" class="Bound">C</a> <a id="2949" class="Symbol">:</a> <a id="2951" href="Agda.Primitive.html#388" class="Primitive">UU</a> <a id="2954" href="foundation.precomposition-functions.html#2910" class="Bound">l3</a><a id="2956" class="Symbol">}</a>
  <a id="2960" class="Keyword">where</a>

  <a id="2969" href="foundation.precomposition-functions.html#2969" class="Function">equiv-htpy-precomp-htpy</a> <a id="2993" class="Symbol">:</a>
    <a id="2999" class="Symbol">(</a><a id="3000" href="foundation.precomposition-functions.html#3000" class="Bound">f</a> <a id="3002" href="foundation.precomposition-functions.html#3002" class="Bound">g</a> <a id="3004" class="Symbol">:</a> <a id="3006" href="foundation.precomposition-functions.html#2935" class="Bound">B</a> <a id="3008" class="Symbol">→</a> <a id="3010" href="foundation.precomposition-functions.html#2947" class="Bound">C</a><a id="3011" class="Symbol">)</a> <a id="3013" class="Symbol">(</a><a id="3014" href="foundation.precomposition-functions.html#3014" class="Bound">e</a> <a id="3016" class="Symbol">:</a> <a id="3018" href="foundation.precomposition-functions.html#2923" class="Bound">A</a> <a id="3020" href="foundation-core.equivalences.html#2669" class="Function Operator">≃</a> <a id="3022" href="foundation.precomposition-functions.html#2935" class="Bound">B</a><a id="3023" class="Symbol">)</a> <a id="3025" class="Symbol">→</a> <a id="3027" class="Symbol">(</a><a id="3028" href="foundation.precomposition-functions.html#3000" class="Bound">f</a> <a id="3030" href="foundation-core.homotopies.html#2717" class="Function Operator">~</a> <a id="3032" href="foundation.precomposition-functions.html#3002" class="Bound">g</a><a id="3033" class="Symbol">)</a> <a id="3035" href="foundation-core.equivalences.html#2669" class="Function Operator">≃</a> <a id="3037" class="Symbol">(</a><a id="3038" href="foundation.precomposition-functions.html#3000" class="Bound">f</a> <a id="3040" href="foundation-core.function-types.html#455" class="Function Operator">∘</a> <a id="3042" href="foundation-core.equivalences.html#2869" class="Function">map-equiv</a> <a id="3052" href="foundation.precomposition-functions.html#3014" class="Bound">e</a> <a id="3054" href="foundation-core.homotopies.html#2717" class="Function Operator">~</a> <a id="3056" href="foundation.precomposition-functions.html#3002" class="Bound">g</a> <a id="3058" href="foundation-core.function-types.html#455" class="Function Operator">∘</a> <a id="3060" href="foundation-core.equivalences.html#2869" class="Function">map-equiv</a> <a id="3070" href="foundation.precomposition-functions.html#3014" class="Bound">e</a><a id="3071" class="Symbol">)</a>
  <a id="3075" href="foundation.precomposition-functions.html#2969" class="Function">equiv-htpy-precomp-htpy</a> <a id="3099" href="foundation.precomposition-functions.html#3099" class="Bound">f</a> <a id="3101" href="foundation.precomposition-functions.html#3101" class="Bound">g</a> <a id="3103" href="foundation.precomposition-functions.html#3103" class="Bound">e</a> <a id="3105" class="Symbol">=</a>
    <a id="3111" href="foundation.precomposition-dependent-functions.html#906" class="Function">equiv-htpy-precomp-htpy-Π</a> <a id="3137" href="foundation.precomposition-functions.html#3099" class="Bound">f</a> <a id="3139" href="foundation.precomposition-functions.html#3101" class="Bound">g</a> <a id="3141" href="foundation.precomposition-functions.html#3103" class="Bound">e</a>
</pre>
### Computations of the fibers of `precomp`

<pre class="Agda"><a id="3201" class="Keyword">module</a> <a id="3208" href="foundation.precomposition-functions.html#3208" class="Module">_</a>
  <a id="3212" class="Symbol">{</a><a id="3213" href="foundation.precomposition-functions.html#3213" class="Bound">l1</a> <a id="3216" href="foundation.precomposition-functions.html#3216" class="Bound">l2</a> <a id="3219" href="foundation.precomposition-functions.html#3219" class="Bound">l3</a> <a id="3222" class="Symbol">:</a> <a id="3224" href="Agda.Primitive.html#742" class="Postulate">Level</a><a id="3229" class="Symbol">}</a> <a id="3231" class="Symbol">{</a><a id="3232" href="foundation.precomposition-functions.html#3232" class="Bound">A</a> <a id="3234" class="Symbol">:</a> <a id="3236" href="Agda.Primitive.html#388" class="Primitive">UU</a> <a id="3239" href="foundation.precomposition-functions.html#3213" class="Bound">l1</a><a id="3241" class="Symbol">}</a> <a id="3243" class="Symbol">{</a><a id="3244" href="foundation.precomposition-functions.html#3244" class="Bound">B</a> <a id="3246" class="Symbol">:</a> <a id="3248" href="Agda.Primitive.html#388" class="Primitive">UU</a> <a id="3251" href="foundation.precomposition-functions.html#3216" class="Bound">l2</a><a id="3253" class="Symbol">}</a> <a id="3255" class="Symbol">(</a><a id="3256" href="foundation.precomposition-functions.html#3256" class="Bound">f</a> <a id="3258" class="Symbol">:</a> <a id="3260" href="foundation.precomposition-functions.html#3232" class="Bound">A</a> <a id="3262" class="Symbol">→</a> <a id="3264" href="foundation.precomposition-functions.html#3244" class="Bound">B</a><a id="3265" class="Symbol">)</a> <a id="3267" class="Symbol">(</a><a id="3268" href="foundation.precomposition-functions.html#3268" class="Bound">X</a> <a id="3270" class="Symbol">:</a> <a id="3272" href="Agda.Primitive.html#388" class="Primitive">UU</a> <a id="3275" href="foundation.precomposition-functions.html#3219" class="Bound">l3</a><a id="3277" class="Symbol">)</a>
  <a id="3281" class="Keyword">where</a>

  <a id="3290" href="foundation.precomposition-functions.html#3290" class="Function">compute-coherence-triangle-fiber-precomp&#39;</a> <a id="3332" class="Symbol">:</a>
    <a id="3338" class="Symbol">(</a><a id="3339" href="foundation.precomposition-functions.html#3339" class="Bound">g</a> <a id="3341" class="Symbol">:</a> <a id="3343" href="foundation.precomposition-functions.html#3232" class="Bound">A</a> <a id="3345" class="Symbol">→</a> <a id="3347" href="foundation.precomposition-functions.html#3268" class="Bound">X</a><a id="3348" class="Symbol">)</a> <a id="3350" class="Symbol">→</a>
    <a id="3356" href="foundation-core.fibers-of-maps.html#938" class="Function">fiber</a> <a id="3362" class="Symbol">(</a><a id="3363" href="foundation-core.precomposition-functions.html#582" class="Function">precomp</a> <a id="3371" href="foundation.precomposition-functions.html#3256" class="Bound">f</a> <a id="3373" href="foundation.precomposition-functions.html#3268" class="Bound">X</a><a id="3374" class="Symbol">)</a> <a id="3376" href="foundation.precomposition-functions.html#3339" class="Bound">g</a> <a id="3378" href="foundation-core.equivalences.html#2669" class="Function Operator">≃</a> <a id="3380" href="foundation.dependent-pair-types.html#505" class="Record">Σ</a> <a id="3382" class="Symbol">(</a><a id="3383" href="foundation.precomposition-functions.html#3244" class="Bound">B</a> <a id="3385" class="Symbol">→</a> <a id="3387" href="foundation.precomposition-functions.html#3268" class="Bound">X</a><a id="3388" class="Symbol">)</a> <a id="3390" class="Symbol">(λ</a> <a id="3393" href="foundation.precomposition-functions.html#3393" class="Bound">h</a> <a id="3395" class="Symbol">→</a> <a id="3397" href="foundation-core.commuting-triangles-of-maps.html#1015" class="Function">coherence-triangle-maps&#39;</a> <a id="3422" href="foundation.precomposition-functions.html#3339" class="Bound">g</a> <a id="3424" href="foundation.precomposition-functions.html#3393" class="Bound">h</a> <a id="3426" href="foundation.precomposition-functions.html#3256" class="Bound">f</a><a id="3427" class="Symbol">)</a>
  <a id="3431" href="foundation.precomposition-functions.html#3290" class="Function">compute-coherence-triangle-fiber-precomp&#39;</a> <a id="3473" href="foundation.precomposition-functions.html#3473" class="Bound">g</a> <a id="3475" class="Symbol">=</a> <a id="3477" href="foundation-core.functoriality-dependent-pair-types.html#6989" class="Function">equiv-tot</a> <a id="3487" class="Symbol">(λ</a> <a id="3490" href="foundation.precomposition-functions.html#3490" class="Bound">_</a> <a id="3492" class="Symbol">→</a> <a id="3494" href="foundation-core.function-extensionality.html#2891" class="Function">equiv-funext</a><a id="3506" class="Symbol">)</a>

  <a id="3511" href="foundation.precomposition-functions.html#3511" class="Function">compute-coherence-triangle-fiber-precomp</a> <a id="3552" class="Symbol">:</a>
    <a id="3558" class="Symbol">(</a><a id="3559" href="foundation.precomposition-functions.html#3559" class="Bound">g</a> <a id="3561" class="Symbol">:</a> <a id="3563" href="foundation.precomposition-functions.html#3232" class="Bound">A</a> <a id="3565" class="Symbol">→</a> <a id="3567" href="foundation.precomposition-functions.html#3268" class="Bound">X</a><a id="3568" class="Symbol">)</a> <a id="3570" class="Symbol">→</a>
    <a id="3576" href="foundation-core.fibers-of-maps.html#938" class="Function">fiber</a> <a id="3582" class="Symbol">(</a><a id="3583" href="foundation-core.precomposition-functions.html#582" class="Function">precomp</a> <a id="3591" href="foundation.precomposition-functions.html#3256" class="Bound">f</a> <a id="3593" href="foundation.precomposition-functions.html#3268" class="Bound">X</a><a id="3594" class="Symbol">)</a> <a id="3596" href="foundation.precomposition-functions.html#3559" class="Bound">g</a> <a id="3598" href="foundation-core.equivalences.html#2669" class="Function Operator">≃</a> <a id="3600" href="foundation.dependent-pair-types.html#505" class="Record">Σ</a> <a id="3602" class="Symbol">(</a><a id="3603" href="foundation.precomposition-functions.html#3244" class="Bound">B</a> <a id="3605" class="Symbol">→</a> <a id="3607" href="foundation.precomposition-functions.html#3268" class="Bound">X</a><a id="3608" class="Symbol">)</a> <a id="3610" class="Symbol">(λ</a> <a id="3613" href="foundation.precomposition-functions.html#3613" class="Bound">h</a> <a id="3615" class="Symbol">→</a> <a id="3617" href="foundation-core.commuting-triangles-of-maps.html#860" class="Function">coherence-triangle-maps</a> <a id="3641" href="foundation.precomposition-functions.html#3559" class="Bound">g</a> <a id="3643" href="foundation.precomposition-functions.html#3613" class="Bound">h</a> <a id="3645" href="foundation.precomposition-functions.html#3256" class="Bound">f</a><a id="3646" class="Symbol">)</a>
  <a id="3650" href="foundation.precomposition-functions.html#3511" class="Function">compute-coherence-triangle-fiber-precomp</a> <a id="3691" href="foundation.precomposition-functions.html#3691" class="Bound">g</a> <a id="3693" class="Symbol">=</a>
    <a id="3699" href="foundation-core.functoriality-dependent-pair-types.html#6989" class="Function">equiv-tot</a> <a id="3709" class="Symbol">(λ</a> <a id="3712" href="foundation.precomposition-functions.html#3712" class="Bound">_</a> <a id="3714" class="Symbol">→</a> <a id="3716" href="foundation-core.function-extensionality.html#2891" class="Function">equiv-funext</a><a id="3728" class="Symbol">)</a> <a id="3730" href="foundation-core.equivalences.html#12664" class="Function Operator">∘e</a> <a id="3733" href="foundation-core.fibers-of-maps.html#6275" class="Function">equiv-fiber</a> <a id="3745" class="Symbol">(</a><a id="3746" href="foundation-core.precomposition-functions.html#582" class="Function">precomp</a> <a id="3754" href="foundation.precomposition-functions.html#3256" class="Bound">f</a> <a id="3756" href="foundation.precomposition-functions.html#3268" class="Bound">X</a><a id="3757" class="Symbol">)</a> <a id="3759" href="foundation.precomposition-functions.html#3691" class="Bound">g</a>

  <a id="3764" href="foundation.precomposition-functions.html#3764" class="Function">compute-fiber-precomp</a> <a id="3786" class="Symbol">:</a>
    <a id="3792" class="Symbol">(</a><a id="3793" href="foundation.precomposition-functions.html#3793" class="Bound">g</a> <a id="3795" class="Symbol">:</a> <a id="3797" href="foundation.precomposition-functions.html#3244" class="Bound">B</a> <a id="3799" class="Symbol">→</a> <a id="3801" href="foundation.precomposition-functions.html#3268" class="Bound">X</a><a id="3802" class="Symbol">)</a> <a id="3804" class="Symbol">→</a>
    <a id="3810" href="foundation-core.fibers-of-maps.html#938" class="Function">fiber</a> <a id="3816" class="Symbol">(</a><a id="3817" href="foundation-core.precomposition-functions.html#582" class="Function">precomp</a> <a id="3825" href="foundation.precomposition-functions.html#3256" class="Bound">f</a> <a id="3827" href="foundation.precomposition-functions.html#3268" class="Bound">X</a><a id="3828" class="Symbol">)</a> <a id="3830" class="Symbol">(</a><a id="3831" href="foundation.precomposition-functions.html#3793" class="Bound">g</a> <a id="3833" href="foundation-core.function-types.html#455" class="Function Operator">∘</a> <a id="3835" href="foundation.precomposition-functions.html#3256" class="Bound">f</a><a id="3836" class="Symbol">)</a> <a id="3838" href="foundation-core.equivalences.html#2669" class="Function Operator">≃</a>
    <a id="3844" href="foundation.dependent-pair-types.html#505" class="Record">Σ</a> <a id="3846" class="Symbol">(</a><a id="3847" href="foundation.precomposition-functions.html#3244" class="Bound">B</a> <a id="3849" class="Symbol">→</a> <a id="3851" href="foundation.precomposition-functions.html#3268" class="Bound">X</a><a id="3852" class="Symbol">)</a> <a id="3854" class="Symbol">(λ</a> <a id="3857" href="foundation.precomposition-functions.html#3857" class="Bound">h</a> <a id="3859" class="Symbol">→</a> <a id="3861" href="foundation-core.commuting-squares-of-maps.html#862" class="Function">coherence-square-maps</a> <a id="3883" href="foundation.precomposition-functions.html#3256" class="Bound">f</a> <a id="3885" href="foundation.precomposition-functions.html#3256" class="Bound">f</a> <a id="3887" href="foundation.precomposition-functions.html#3857" class="Bound">h</a> <a id="3889" href="foundation.precomposition-functions.html#3793" class="Bound">g</a><a id="3890" class="Symbol">)</a>
  <a id="3894" href="foundation.precomposition-functions.html#3764" class="Function">compute-fiber-precomp</a> <a id="3916" href="foundation.precomposition-functions.html#3916" class="Bound">g</a> <a id="3918" class="Symbol">=</a> <a id="3920" href="foundation.precomposition-functions.html#3511" class="Function">compute-coherence-triangle-fiber-precomp</a> <a id="3961" class="Symbol">(</a><a id="3962" href="foundation.precomposition-functions.html#3916" class="Bound">g</a> <a id="3964" href="foundation-core.function-types.html#455" class="Function Operator">∘</a> <a id="3966" href="foundation.precomposition-functions.html#3256" class="Bound">f</a><a id="3967" class="Symbol">)</a>

  <a id="3972" href="foundation.precomposition-functions.html#3972" class="Function">compute-total-fiber-precomp</a> <a id="4000" class="Symbol">:</a>
    <a id="4006" href="foundation.dependent-pair-types.html#505" class="Record">Σ</a> <a id="4008" class="Symbol">(</a><a id="4009" href="foundation.precomposition-functions.html#3244" class="Bound">B</a> <a id="4011" class="Symbol">→</a> <a id="4013" href="foundation.precomposition-functions.html#3268" class="Bound">X</a><a id="4014" class="Symbol">)</a> <a id="4016" class="Symbol">(λ</a> <a id="4019" href="foundation.precomposition-functions.html#4019" class="Bound">g</a> <a id="4021" class="Symbol">→</a> <a id="4023" href="foundation-core.fibers-of-maps.html#938" class="Function">fiber</a> <a id="4029" class="Symbol">(</a><a id="4030" href="foundation-core.precomposition-functions.html#582" class="Function">precomp</a> <a id="4038" href="foundation.precomposition-functions.html#3256" class="Bound">f</a> <a id="4040" href="foundation.precomposition-functions.html#3268" class="Bound">X</a><a id="4041" class="Symbol">)</a> <a id="4043" class="Symbol">(</a><a id="4044" href="foundation.precomposition-functions.html#4019" class="Bound">g</a> <a id="4046" href="foundation-core.function-types.html#455" class="Function Operator">∘</a> <a id="4048" href="foundation.precomposition-functions.html#3256" class="Bound">f</a><a id="4049" class="Symbol">))</a> <a id="4052" href="foundation-core.equivalences.html#2669" class="Function Operator">≃</a> <a id="4054" href="synthetic-homotopy-theory.cocones-under-spans.html#1443" class="Function">cocone</a> <a id="4061" href="foundation.precomposition-functions.html#3256" class="Bound">f</a> <a id="4063" href="foundation.precomposition-functions.html#3256" class="Bound">f</a> <a id="4065" href="foundation.precomposition-functions.html#3268" class="Bound">X</a>
  <a id="4069" href="foundation.precomposition-functions.html#3972" class="Function">compute-total-fiber-precomp</a> <a id="4097" class="Symbol">=</a> <a id="4099" href="foundation-core.functoriality-dependent-pair-types.html#6989" class="Function">equiv-tot</a> <a id="4109" href="foundation.precomposition-functions.html#3764" class="Function">compute-fiber-precomp</a>

  <a id="4134" href="foundation.precomposition-functions.html#4134" class="Function">diagonal-into-fibers-precomp</a> <a id="4163" class="Symbol">:</a>
    <a id="4169" class="Symbol">(</a><a id="4170" href="foundation.precomposition-functions.html#3244" class="Bound">B</a> <a id="4172" class="Symbol">→</a> <a id="4174" href="foundation.precomposition-functions.html#3268" class="Bound">X</a><a id="4175" class="Symbol">)</a> <a id="4177" class="Symbol">→</a> <a id="4179" href="foundation.dependent-pair-types.html#505" class="Record">Σ</a> <a id="4181" class="Symbol">(</a><a id="4182" href="foundation.precomposition-functions.html#3244" class="Bound">B</a> <a id="4184" class="Symbol">→</a> <a id="4186" href="foundation.precomposition-functions.html#3268" class="Bound">X</a><a id="4187" class="Symbol">)</a> <a id="4189" class="Symbol">(λ</a> <a id="4192" href="foundation.precomposition-functions.html#4192" class="Bound">g</a> <a id="4194" class="Symbol">→</a> <a id="4196" href="foundation-core.fibers-of-maps.html#938" class="Function">fiber</a> <a id="4202" class="Symbol">(</a><a id="4203" href="foundation-core.precomposition-functions.html#582" class="Function">precomp</a> <a id="4211" href="foundation.precomposition-functions.html#3256" class="Bound">f</a> <a id="4213" href="foundation.precomposition-functions.html#3268" class="Bound">X</a><a id="4214" class="Symbol">)</a> <a id="4216" class="Symbol">(</a><a id="4217" href="foundation.precomposition-functions.html#4192" class="Bound">g</a> <a id="4219" href="foundation-core.function-types.html#455" class="Function Operator">∘</a> <a id="4221" href="foundation.precomposition-functions.html#3256" class="Bound">f</a><a id="4222" class="Symbol">))</a>
  <a id="4227" href="foundation.precomposition-functions.html#4134" class="Function">diagonal-into-fibers-precomp</a> <a id="4256" class="Symbol">=</a> <a id="4258" href="foundation.sections.html#1129" class="Function">map-section-family</a> <a id="4277" class="Symbol">(λ</a> <a id="4280" href="foundation.precomposition-functions.html#4280" class="Bound">g</a> <a id="4282" class="Symbol">→</a> <a id="4284" href="foundation.precomposition-functions.html#4280" class="Bound">g</a> <a id="4286" href="foundation.dependent-pair-types.html#689" class="InductiveConstructor Operator">,</a> <a id="4288" href="foundation-core.identity-types.html#1922" class="InductiveConstructor">refl</a><a id="4292" class="Symbol">)</a>
</pre>