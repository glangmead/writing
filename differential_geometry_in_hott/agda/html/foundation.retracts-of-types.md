# Retracts of types

<pre class="Agda"><a id="30" class="Keyword">module</a> <a id="37" href="foundation.retracts-of-types.html" class="Module">foundation.retracts-of-types</a> <a id="66" class="Keyword">where</a>
</pre>
<details><summary>Imports</summary>

<pre class="Agda"><a id="122" class="Keyword">open</a> <a id="127" class="Keyword">import</a> <a id="134" href="foundation.action-on-identifications-functions.html" class="Module">foundation.action-on-identifications-functions</a>
<a id="181" class="Keyword">open</a> <a id="186" class="Keyword">import</a> <a id="193" href="foundation.dependent-pair-types.html" class="Module">foundation.dependent-pair-types</a>
<a id="225" class="Keyword">open</a> <a id="230" class="Keyword">import</a> <a id="237" href="foundation.universe-levels.html" class="Module">foundation.universe-levels</a>

<a id="265" class="Keyword">open</a> <a id="270" class="Keyword">import</a> <a id="277" href="foundation-core.function-extensionality.html" class="Module">foundation-core.function-extensionality</a>
<a id="317" class="Keyword">open</a> <a id="322" class="Keyword">import</a> <a id="329" href="foundation-core.identity-types.html" class="Module">foundation-core.identity-types</a>
<a id="360" class="Keyword">open</a> <a id="365" class="Keyword">import</a> <a id="372" href="foundation-core.precomposition-functions.html" class="Module">foundation-core.precomposition-functions</a>
<a id="413" class="Keyword">open</a> <a id="418" class="Keyword">import</a> <a id="425" href="foundation-core.retractions.html" class="Module">foundation-core.retractions</a>
<a id="453" class="Keyword">open</a> <a id="458" class="Keyword">import</a> <a id="465" href="foundation-core.sections.html" class="Module">foundation-core.sections</a>
<a id="490" class="Keyword">open</a> <a id="495" class="Keyword">import</a> <a id="502" href="foundation-core.whiskering-homotopies.html" class="Module">foundation-core.whiskering-homotopies</a>
</pre>
</details>

## Idea

We say that a type `A` is a **retract of** a type `B` if the types `A` and `B`
come equipped with **retract data**, i.e., with maps

```text
      i        r
  A -----> B -----> A
```

and a [homotopy](foundation-core.homotopies.md) `r ∘ i ~ id`. The map `i` is
called the **inclusion** of the retract data, and the map `r` is called the
**underlying map of the retraction**.

## Definitions

### The type of witnesses that `A` is a retract of `B`

The predicate `retract B` is used to assert that a type is a retract of `B`,
i.e., the type `retract B A` is the type of maps from `A` to `B` that come
equipped with a retraction.

We also introduce more intuitive infix notation `A retract-of B` to assert that
`A` is a retract of `B`.

<pre class="Agda"><a id="retract"></a><a id="1310" href="foundation.retracts-of-types.html#1310" class="Function">retract</a> <a id="1318" class="Symbol">:</a> <a id="1320" class="Symbol">{</a><a id="1321" href="foundation.retracts-of-types.html#1321" class="Bound">l1</a> <a id="1324" href="foundation.retracts-of-types.html#1324" class="Bound">l2</a> <a id="1327" class="Symbol">:</a> <a id="1329" href="Agda.Primitive.html#742" class="Postulate">Level</a><a id="1334" class="Symbol">}</a> <a id="1336" class="Symbol">→</a> <a id="1338" href="Agda.Primitive.html#388" class="Primitive">UU</a> <a id="1341" href="foundation.retracts-of-types.html#1321" class="Bound">l1</a> <a id="1344" class="Symbol">→</a> <a id="1346" href="Agda.Primitive.html#388" class="Primitive">UU</a> <a id="1349" href="foundation.retracts-of-types.html#1324" class="Bound">l2</a> <a id="1352" class="Symbol">→</a> <a id="1354" href="Agda.Primitive.html#388" class="Primitive">UU</a> <a id="1357" class="Symbol">(</a><a id="1358" href="foundation.retracts-of-types.html#1321" class="Bound">l1</a> <a id="1361" href="Agda.Primitive.html#961" class="Primitive Operator">⊔</a> <a id="1363" href="foundation.retracts-of-types.html#1324" class="Bound">l2</a><a id="1365" class="Symbol">)</a>
<a id="1367" href="foundation.retracts-of-types.html#1310" class="Function">retract</a> <a id="1375" href="foundation.retracts-of-types.html#1375" class="Bound">B</a> <a id="1377" href="foundation.retracts-of-types.html#1377" class="Bound">A</a> <a id="1379" class="Symbol">=</a> <a id="1381" href="foundation.dependent-pair-types.html#505" class="Record">Σ</a> <a id="1383" class="Symbol">(</a><a id="1384" href="foundation.retracts-of-types.html#1377" class="Bound">A</a> <a id="1386" class="Symbol">→</a> <a id="1388" href="foundation.retracts-of-types.html#1375" class="Bound">B</a><a id="1389" class="Symbol">)</a> <a id="1391" href="foundation-core.retractions.html#867" class="Function">retraction</a>

<a id="1403" class="Keyword">infix</a> <a id="1409" class="Number">6</a> <a id="1411" href="foundation.retracts-of-types.html#1425" class="Function Operator">_retract-of_</a>

<a id="_retract-of_"></a><a id="1425" href="foundation.retracts-of-types.html#1425" class="Function Operator">_retract-of_</a> <a id="1438" class="Symbol">:</a>
  <a id="1442" class="Symbol">{</a><a id="1443" href="foundation.retracts-of-types.html#1443" class="Bound">l1</a> <a id="1446" href="foundation.retracts-of-types.html#1446" class="Bound">l2</a> <a id="1449" class="Symbol">:</a> <a id="1451" href="Agda.Primitive.html#742" class="Postulate">Level</a><a id="1456" class="Symbol">}</a> <a id="1458" class="Symbol">→</a> <a id="1460" href="Agda.Primitive.html#388" class="Primitive">UU</a> <a id="1463" href="foundation.retracts-of-types.html#1443" class="Bound">l1</a> <a id="1466" class="Symbol">→</a> <a id="1468" href="Agda.Primitive.html#388" class="Primitive">UU</a> <a id="1471" href="foundation.retracts-of-types.html#1446" class="Bound">l2</a> <a id="1474" class="Symbol">→</a> <a id="1476" href="Agda.Primitive.html#388" class="Primitive">UU</a> <a id="1479" class="Symbol">(</a><a id="1480" href="foundation.retracts-of-types.html#1443" class="Bound">l1</a> <a id="1483" href="Agda.Primitive.html#961" class="Primitive Operator">⊔</a> <a id="1485" href="foundation.retracts-of-types.html#1446" class="Bound">l2</a><a id="1487" class="Symbol">)</a>
<a id="1489" href="foundation.retracts-of-types.html#1489" class="Bound">A</a> <a id="1491" href="foundation.retracts-of-types.html#1425" class="Function Operator">retract-of</a> <a id="1502" href="foundation.retracts-of-types.html#1502" class="Bound">B</a> <a id="1504" class="Symbol">=</a> <a id="1506" href="foundation.retracts-of-types.html#1310" class="Function">retract</a> <a id="1514" href="foundation.retracts-of-types.html#1502" class="Bound">B</a> <a id="1516" href="foundation.retracts-of-types.html#1489" class="Bound">A</a>

<a id="1519" class="Keyword">module</a> <a id="1526" href="foundation.retracts-of-types.html#1526" class="Module">_</a>
  <a id="1530" class="Symbol">{</a><a id="1531" href="foundation.retracts-of-types.html#1531" class="Bound">l1</a> <a id="1534" href="foundation.retracts-of-types.html#1534" class="Bound">l2</a> <a id="1537" class="Symbol">:</a> <a id="1539" href="Agda.Primitive.html#742" class="Postulate">Level</a><a id="1544" class="Symbol">}</a> <a id="1546" class="Symbol">{</a><a id="1547" href="foundation.retracts-of-types.html#1547" class="Bound">A</a> <a id="1549" class="Symbol">:</a> <a id="1551" href="Agda.Primitive.html#388" class="Primitive">UU</a> <a id="1554" href="foundation.retracts-of-types.html#1531" class="Bound">l1</a><a id="1556" class="Symbol">}</a> <a id="1558" class="Symbol">{</a><a id="1559" href="foundation.retracts-of-types.html#1559" class="Bound">B</a> <a id="1561" class="Symbol">:</a> <a id="1563" href="Agda.Primitive.html#388" class="Primitive">UU</a> <a id="1566" href="foundation.retracts-of-types.html#1534" class="Bound">l2</a><a id="1568" class="Symbol">}</a> <a id="1570" class="Symbol">(</a><a id="1571" href="foundation.retracts-of-types.html#1571" class="Bound">R</a> <a id="1573" class="Symbol">:</a> <a id="1575" href="foundation.retracts-of-types.html#1310" class="Function">retract</a> <a id="1583" href="foundation.retracts-of-types.html#1559" class="Bound">B</a> <a id="1585" href="foundation.retracts-of-types.html#1547" class="Bound">A</a><a id="1586" class="Symbol">)</a>
  <a id="1590" class="Keyword">where</a>

  <a id="1599" href="foundation.retracts-of-types.html#1599" class="Function">inclusion-retract</a> <a id="1617" class="Symbol">:</a> <a id="1619" href="foundation.retracts-of-types.html#1547" class="Bound">A</a> <a id="1621" class="Symbol">→</a> <a id="1623" href="foundation.retracts-of-types.html#1559" class="Bound">B</a>
  <a id="1627" href="foundation.retracts-of-types.html#1599" class="Function">inclusion-retract</a> <a id="1645" class="Symbol">=</a> <a id="1647" href="foundation.dependent-pair-types.html#603" class="Field">pr1</a> <a id="1651" href="foundation.retracts-of-types.html#1571" class="Bound">R</a>

  <a id="1656" href="foundation.retracts-of-types.html#1656" class="Function">retraction-retract</a> <a id="1675" class="Symbol">:</a> <a id="1677" href="foundation-core.retractions.html#867" class="Function">retraction</a> <a id="1688" href="foundation.retracts-of-types.html#1599" class="Function">inclusion-retract</a>
  <a id="1708" href="foundation.retracts-of-types.html#1656" class="Function">retraction-retract</a> <a id="1727" class="Symbol">=</a> <a id="1729" href="foundation.dependent-pair-types.html#615" class="Field">pr2</a> <a id="1733" href="foundation.retracts-of-types.html#1571" class="Bound">R</a>

  <a id="1738" href="foundation.retracts-of-types.html#1738" class="Function">map-retraction-retract</a> <a id="1761" class="Symbol">:</a> <a id="1763" href="foundation.retracts-of-types.html#1559" class="Bound">B</a> <a id="1765" class="Symbol">→</a> <a id="1767" href="foundation.retracts-of-types.html#1547" class="Bound">A</a>
  <a id="1771" href="foundation.retracts-of-types.html#1738" class="Function">map-retraction-retract</a> <a id="1794" class="Symbol">=</a> <a id="1796" href="foundation-core.retractions.html#955" class="Function">map-retraction</a> <a id="1811" href="foundation.retracts-of-types.html#1599" class="Function">inclusion-retract</a> <a id="1829" href="foundation.retracts-of-types.html#1656" class="Function">retraction-retract</a>

  <a id="1851" href="foundation.retracts-of-types.html#1851" class="Function">is-retraction-map-retraction-retract</a> <a id="1888" class="Symbol">:</a>
    <a id="1894" href="foundation-core.sections.html#1187" class="Function">is-section</a> <a id="1905" href="foundation.retracts-of-types.html#1738" class="Function">map-retraction-retract</a> <a id="1928" href="foundation.retracts-of-types.html#1599" class="Function">inclusion-retract</a>
  <a id="1948" href="foundation.retracts-of-types.html#1851" class="Function">is-retraction-map-retraction-retract</a> <a id="1985" class="Symbol">=</a>
    <a id="1991" href="foundation-core.retractions.html#1035" class="Function">is-retraction-map-retraction</a> <a id="2020" href="foundation.retracts-of-types.html#1599" class="Function">inclusion-retract</a> <a id="2038" href="foundation.retracts-of-types.html#1656" class="Function">retraction-retract</a>

  <a id="2060" href="foundation.retracts-of-types.html#2060" class="Function">section-retract</a> <a id="2076" class="Symbol">:</a> <a id="2078" href="foundation-core.sections.html#1366" class="Function">section</a> <a id="2086" href="foundation.retracts-of-types.html#1738" class="Function">map-retraction-retract</a>
  <a id="2111" href="foundation.dependent-pair-types.html#603" class="Field">pr1</a> <a id="2115" href="foundation.retracts-of-types.html#2060" class="Function">section-retract</a> <a id="2131" class="Symbol">=</a> <a id="2133" href="foundation.retracts-of-types.html#1599" class="Function">inclusion-retract</a>
  <a id="2153" href="foundation.dependent-pair-types.html#615" class="Field">pr2</a> <a id="2157" href="foundation.retracts-of-types.html#2060" class="Function">section-retract</a> <a id="2173" class="Symbol">=</a> <a id="2175" href="foundation.retracts-of-types.html#1851" class="Function">is-retraction-map-retraction-retract</a>
</pre>
## Properties

### If `A` is a retract of `B` with inclusion `i : A → B`, then `x ＝ y` is a retract of `i x ＝ i y` for any two elements `x y : A`

<pre class="Agda"><a id="2372" class="Keyword">module</a> <a id="2379" href="foundation.retracts-of-types.html#2379" class="Module">_</a>
  <a id="2383" class="Symbol">{</a><a id="2384" href="foundation.retracts-of-types.html#2384" class="Bound">l1</a> <a id="2387" href="foundation.retracts-of-types.html#2387" class="Bound">l2</a> <a id="2390" class="Symbol">:</a> <a id="2392" href="Agda.Primitive.html#742" class="Postulate">Level</a><a id="2397" class="Symbol">}</a> <a id="2399" class="Symbol">{</a><a id="2400" href="foundation.retracts-of-types.html#2400" class="Bound">A</a> <a id="2402" class="Symbol">:</a> <a id="2404" href="Agda.Primitive.html#388" class="Primitive">UU</a> <a id="2407" href="foundation.retracts-of-types.html#2384" class="Bound">l1</a><a id="2409" class="Symbol">}</a> <a id="2411" class="Symbol">{</a><a id="2412" href="foundation.retracts-of-types.html#2412" class="Bound">B</a> <a id="2414" class="Symbol">:</a> <a id="2416" href="Agda.Primitive.html#388" class="Primitive">UU</a> <a id="2419" href="foundation.retracts-of-types.html#2387" class="Bound">l2</a><a id="2421" class="Symbol">}</a> <a id="2423" class="Symbol">(</a><a id="2424" href="foundation.retracts-of-types.html#2424" class="Bound">R</a> <a id="2426" class="Symbol">:</a> <a id="2428" href="foundation.retracts-of-types.html#2400" class="Bound">A</a> <a id="2430" href="foundation.retracts-of-types.html#1425" class="Function Operator">retract-of</a> <a id="2441" href="foundation.retracts-of-types.html#2412" class="Bound">B</a><a id="2442" class="Symbol">)</a> <a id="2444" class="Symbol">(</a><a id="2445" href="foundation.retracts-of-types.html#2445" class="Bound">x</a> <a id="2447" href="foundation.retracts-of-types.html#2447" class="Bound">y</a> <a id="2449" class="Symbol">:</a> <a id="2451" href="foundation.retracts-of-types.html#2400" class="Bound">A</a><a id="2452" class="Symbol">)</a>
  <a id="2456" class="Keyword">where</a>

  <a id="2465" href="foundation.retracts-of-types.html#2465" class="Function">retract-eq</a> <a id="2476" class="Symbol">:</a>
    <a id="2482" class="Symbol">(</a><a id="2483" href="foundation.retracts-of-types.html#2445" class="Bound">x</a> <a id="2485" href="foundation-core.identity-types.html#1953" class="Function Operator">＝</a> <a id="2487" href="foundation.retracts-of-types.html#2447" class="Bound">y</a><a id="2488" class="Symbol">)</a> <a id="2490" href="foundation.retracts-of-types.html#1425" class="Function Operator">retract-of</a> <a id="2501" class="Symbol">(</a><a id="2502" href="foundation.retracts-of-types.html#1599" class="Function">inclusion-retract</a> <a id="2520" href="foundation.retracts-of-types.html#2424" class="Bound">R</a> <a id="2522" href="foundation.retracts-of-types.html#2445" class="Bound">x</a> <a id="2524" href="foundation-core.identity-types.html#1953" class="Function Operator">＝</a> <a id="2526" href="foundation.retracts-of-types.html#1599" class="Function">inclusion-retract</a> <a id="2544" href="foundation.retracts-of-types.html#2424" class="Bound">R</a> <a id="2546" href="foundation.retracts-of-types.html#2447" class="Bound">y</a><a id="2547" class="Symbol">)</a>
  <a id="2551" href="foundation.dependent-pair-types.html#603" class="Field">pr1</a> <a id="2555" href="foundation.retracts-of-types.html#2465" class="Function">retract-eq</a> <a id="2566" class="Symbol">=</a>
    <a id="2572" href="foundation.action-on-identifications-functions.html#730" class="Function">ap</a> <a id="2575" class="Symbol">(</a><a id="2576" href="foundation.retracts-of-types.html#1599" class="Function">inclusion-retract</a> <a id="2594" href="foundation.retracts-of-types.html#2424" class="Bound">R</a><a id="2595" class="Symbol">)</a>
  <a id="2599" href="foundation.dependent-pair-types.html#615" class="Field">pr2</a> <a id="2603" href="foundation.retracts-of-types.html#2465" class="Function">retract-eq</a> <a id="2614" class="Symbol">=</a>
    <a id="2620" href="foundation-core.retractions.html#2445" class="Function">retraction-ap</a> <a id="2634" class="Symbol">(</a><a id="2635" href="foundation.retracts-of-types.html#1599" class="Function">inclusion-retract</a> <a id="2653" href="foundation.retracts-of-types.html#2424" class="Bound">R</a><a id="2654" class="Symbol">)</a> <a id="2656" class="Symbol">(</a><a id="2657" href="foundation.retracts-of-types.html#1656" class="Function">retraction-retract</a> <a id="2676" href="foundation.retracts-of-types.html#2424" class="Bound">R</a><a id="2677" class="Symbol">)</a> <a id="2679" href="foundation.retracts-of-types.html#2445" class="Bound">x</a> <a id="2681" href="foundation.retracts-of-types.html#2447" class="Bound">y</a>
</pre>
### If `A` is a retract of `B` then `A → S` is a retract of `B → S` via precomposition

<pre class="Agda"><a id="2784" class="Keyword">module</a> <a id="2791" href="foundation.retracts-of-types.html#2791" class="Module">_</a>
  <a id="2795" class="Symbol">{</a><a id="2796" href="foundation.retracts-of-types.html#2796" class="Bound">l1</a> <a id="2799" href="foundation.retracts-of-types.html#2799" class="Bound">l2</a> <a id="2802" href="foundation.retracts-of-types.html#2802" class="Bound">l3</a> <a id="2805" class="Symbol">:</a> <a id="2807" href="Agda.Primitive.html#742" class="Postulate">Level</a><a id="2812" class="Symbol">}</a> <a id="2814" class="Symbol">{</a><a id="2815" href="foundation.retracts-of-types.html#2815" class="Bound">A</a> <a id="2817" class="Symbol">:</a> <a id="2819" href="Agda.Primitive.html#388" class="Primitive">UU</a> <a id="2822" href="foundation.retracts-of-types.html#2796" class="Bound">l1</a><a id="2824" class="Symbol">}</a> <a id="2826" class="Symbol">{</a><a id="2827" href="foundation.retracts-of-types.html#2827" class="Bound">B</a> <a id="2829" class="Symbol">:</a> <a id="2831" href="Agda.Primitive.html#388" class="Primitive">UU</a> <a id="2834" href="foundation.retracts-of-types.html#2799" class="Bound">l2</a><a id="2836" class="Symbol">}</a> <a id="2838" class="Symbol">(</a><a id="2839" href="foundation.retracts-of-types.html#2839" class="Bound">R</a> <a id="2841" class="Symbol">:</a> <a id="2843" href="foundation.retracts-of-types.html#2815" class="Bound">A</a> <a id="2845" href="foundation.retracts-of-types.html#1425" class="Function Operator">retract-of</a> <a id="2856" href="foundation.retracts-of-types.html#2827" class="Bound">B</a><a id="2857" class="Symbol">)</a> <a id="2859" class="Symbol">(</a><a id="2860" href="foundation.retracts-of-types.html#2860" class="Bound">S</a> <a id="2862" class="Symbol">:</a> <a id="2864" href="Agda.Primitive.html#388" class="Primitive">UU</a> <a id="2867" href="foundation.retracts-of-types.html#2802" class="Bound">l3</a><a id="2869" class="Symbol">)</a>
  <a id="2873" class="Keyword">where</a>

  <a id="2882" href="foundation.retracts-of-types.html#2882" class="Function">retract-precomp</a> <a id="2898" class="Symbol">:</a>
    <a id="2904" class="Symbol">(</a><a id="2905" href="foundation.retracts-of-types.html#2815" class="Bound">A</a> <a id="2907" class="Symbol">→</a> <a id="2909" href="foundation.retracts-of-types.html#2860" class="Bound">S</a><a id="2910" class="Symbol">)</a> <a id="2912" href="foundation.retracts-of-types.html#1425" class="Function Operator">retract-of</a> <a id="2923" class="Symbol">(</a><a id="2924" href="foundation.retracts-of-types.html#2827" class="Bound">B</a> <a id="2926" class="Symbol">→</a> <a id="2928" href="foundation.retracts-of-types.html#2860" class="Bound">S</a><a id="2929" class="Symbol">)</a>
  <a id="2933" href="foundation.dependent-pair-types.html#603" class="Field">pr1</a> <a id="2937" href="foundation.retracts-of-types.html#2882" class="Function">retract-precomp</a> <a id="2953" class="Symbol">=</a>
    <a id="2959" href="foundation-core.precomposition-functions.html#582" class="Function">precomp</a> <a id="2967" class="Symbol">(</a><a id="2968" href="foundation.retracts-of-types.html#1738" class="Function">map-retraction-retract</a> <a id="2991" href="foundation.retracts-of-types.html#2839" class="Bound">R</a><a id="2992" class="Symbol">)</a> <a id="2994" href="foundation.retracts-of-types.html#2860" class="Bound">S</a>
  <a id="2998" href="foundation.dependent-pair-types.html#603" class="Field">pr1</a> <a id="3002" class="Symbol">(</a><a id="3003" href="foundation.dependent-pair-types.html#615" class="Field">pr2</a> <a id="3007" href="foundation.retracts-of-types.html#2882" class="Function">retract-precomp</a><a id="3022" class="Symbol">)</a> <a id="3024" class="Symbol">=</a>
    <a id="3030" href="foundation-core.precomposition-functions.html#582" class="Function">precomp</a> <a id="3038" class="Symbol">(</a><a id="3039" href="foundation.retracts-of-types.html#1599" class="Function">inclusion-retract</a> <a id="3057" href="foundation.retracts-of-types.html#2839" class="Bound">R</a><a id="3058" class="Symbol">)</a> <a id="3060" href="foundation.retracts-of-types.html#2860" class="Bound">S</a>
  <a id="3064" href="foundation.dependent-pair-types.html#615" class="Field">pr2</a> <a id="3068" class="Symbol">(</a><a id="3069" href="foundation.dependent-pair-types.html#615" class="Field">pr2</a> <a id="3073" href="foundation.retracts-of-types.html#2882" class="Function">retract-precomp</a><a id="3088" class="Symbol">)</a> <a id="3090" href="foundation.retracts-of-types.html#3090" class="Bound">h</a> <a id="3092" class="Symbol">=</a>
    <a id="3098" href="foundation-core.function-extensionality.html#3024" class="Function">eq-htpy</a> <a id="3106" class="Symbol">(</a><a id="3107" href="foundation.retracts-of-types.html#3090" class="Bound">h</a> <a id="3109" href="foundation-core.whiskering-homotopies.html#1637" class="Function Operator">·l</a> <a id="3112" href="foundation.retracts-of-types.html#1851" class="Function">is-retraction-map-retraction-retract</a> <a id="3149" href="foundation.retracts-of-types.html#2839" class="Bound">R</a><a id="3150" class="Symbol">)</a>
</pre>
## See also

- [Retracts of maps](foundation.retracts-of-maps.md)
