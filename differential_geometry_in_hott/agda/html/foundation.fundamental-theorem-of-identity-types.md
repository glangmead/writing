# The fundamental theorem of identity types

<pre class="Agda"><a id="54" class="Keyword">module</a> <a id="61" href="foundation.fundamental-theorem-of-identity-types.html" class="Module">foundation.fundamental-theorem-of-identity-types</a> <a id="110" class="Keyword">where</a>
</pre>
<details><summary>Imports</summary>

<pre class="Agda"><a id="166" class="Keyword">open</a> <a id="171" class="Keyword">import</a> <a id="178" href="foundation.dependent-pair-types.html" class="Module">foundation.dependent-pair-types</a>
<a id="210" class="Keyword">open</a> <a id="215" class="Keyword">import</a> <a id="222" href="foundation.universe-levels.html" class="Module">foundation.universe-levels</a>

<a id="250" class="Keyword">open</a> <a id="255" class="Keyword">import</a> <a id="262" href="foundation-core.contractible-types.html" class="Module">foundation-core.contractible-types</a>
<a id="297" class="Keyword">open</a> <a id="302" class="Keyword">import</a> <a id="309" href="foundation-core.equivalences.html" class="Module">foundation-core.equivalences</a>
<a id="338" class="Keyword">open</a> <a id="343" class="Keyword">import</a> <a id="350" href="foundation-core.functoriality-dependent-pair-types.html" class="Module">foundation-core.functoriality-dependent-pair-types</a>
<a id="401" class="Keyword">open</a> <a id="406" class="Keyword">import</a> <a id="413" href="foundation-core.homotopies.html" class="Module">foundation-core.homotopies</a>
<a id="440" class="Keyword">open</a> <a id="445" class="Keyword">import</a> <a id="452" href="foundation-core.identity-types.html" class="Module">foundation-core.identity-types</a>
<a id="483" class="Keyword">open</a> <a id="488" class="Keyword">import</a> <a id="495" href="foundation-core.retractions.html" class="Module">foundation-core.retractions</a>
<a id="523" class="Keyword">open</a> <a id="528" class="Keyword">import</a> <a id="535" href="foundation-core.sections.html" class="Module">foundation-core.sections</a>
</pre>
</details>

## Idea

The fundamental theorem of identity type provides a way to characterize identity
types. It uses the fact that a family of maps `f : (x : A) → a ＝ x → B x` is a
family of equivalences if and only if it induces an equivalence
`Σ A (Id a) → Σ A B` on total spaces. Note that the total space `Σ A (Id a)` is
contractible. Therefore, any map `Σ A (Id a) → Σ A B` is an equivalence if and
only if `Σ A B` is contractible.

## Theorem

For any family of maps `f : (x : A) → a ＝ x → B x`, the following are
equivalent:

1. Each `f x` is an equivalence
2. The total space `Σ A B` is contractible.

<pre class="Agda"><a id="1183" class="Keyword">module</a> <a id="1190" href="foundation.fundamental-theorem-of-identity-types.html#1190" class="Module">_</a>
  <a id="1194" class="Symbol">{</a><a id="1195" href="foundation.fundamental-theorem-of-identity-types.html#1195" class="Bound">l1</a> <a id="1198" href="foundation.fundamental-theorem-of-identity-types.html#1198" class="Bound">l2</a> <a id="1201" class="Symbol">:</a> <a id="1203" href="Agda.Primitive.html#591" class="Postulate">Level</a><a id="1208" class="Symbol">}</a> <a id="1210" class="Symbol">{</a><a id="1211" href="foundation.fundamental-theorem-of-identity-types.html#1211" class="Bound">A</a> <a id="1213" class="Symbol">:</a> <a id="1215" href="Agda.Primitive.html#320" class="Primitive">UU</a> <a id="1218" href="foundation.fundamental-theorem-of-identity-types.html#1195" class="Bound">l1</a><a id="1220" class="Symbol">}</a> <a id="1222" class="Symbol">{</a><a id="1223" href="foundation.fundamental-theorem-of-identity-types.html#1223" class="Bound">B</a> <a id="1225" class="Symbol">:</a> <a id="1227" href="foundation.fundamental-theorem-of-identity-types.html#1211" class="Bound">A</a> <a id="1229" class="Symbol">→</a> <a id="1231" href="Agda.Primitive.html#320" class="Primitive">UU</a> <a id="1234" href="foundation.fundamental-theorem-of-identity-types.html#1198" class="Bound">l2</a><a id="1236" class="Symbol">}</a> <a id="1238" class="Symbol">{</a><a id="1239" href="foundation.fundamental-theorem-of-identity-types.html#1239" class="Bound">a</a> <a id="1241" class="Symbol">:</a> <a id="1243" href="foundation.fundamental-theorem-of-identity-types.html#1211" class="Bound">A</a><a id="1244" class="Symbol">}</a>
  <a id="1248" class="Keyword">where</a>

  <a id="1257" class="Keyword">abstract</a>
    <a id="1270" href="foundation.fundamental-theorem-of-identity-types.html#1270" class="Function">fundamental-theorem-id</a> <a id="1293" class="Symbol">:</a>
      <a id="1301" href="foundation-core.contractible-types.html#802" class="Function">is-contr</a> <a id="1310" class="Symbol">(</a><a id="1311" href="foundation.dependent-pair-types.html#505" class="Record">Σ</a> <a id="1313" href="foundation.fundamental-theorem-of-identity-types.html#1211" class="Bound">A</a> <a id="1315" href="foundation.fundamental-theorem-of-identity-types.html#1223" class="Bound">B</a><a id="1316" class="Symbol">)</a> <a id="1318" class="Symbol">→</a> <a id="1320" class="Symbol">(</a><a id="1321" href="foundation.fundamental-theorem-of-identity-types.html#1321" class="Bound">f</a> <a id="1323" class="Symbol">:</a> <a id="1325" class="Symbol">(</a><a id="1326" href="foundation.fundamental-theorem-of-identity-types.html#1326" class="Bound">x</a> <a id="1328" class="Symbol">:</a> <a id="1330" href="foundation.fundamental-theorem-of-identity-types.html#1211" class="Bound">A</a><a id="1331" class="Symbol">)</a> <a id="1333" class="Symbol">→</a> <a id="1335" href="foundation.fundamental-theorem-of-identity-types.html#1239" class="Bound">a</a> <a id="1337" href="foundation-core.identity-types.html#5999" class="Function Operator">＝</a> <a id="1339" href="foundation.fundamental-theorem-of-identity-types.html#1326" class="Bound">x</a> <a id="1341" class="Symbol">→</a> <a id="1343" href="foundation.fundamental-theorem-of-identity-types.html#1223" class="Bound">B</a> <a id="1345" href="foundation.fundamental-theorem-of-identity-types.html#1326" class="Bound">x</a><a id="1346" class="Symbol">)</a> <a id="1348" class="Symbol">→</a> <a id="1350" href="foundation-core.equivalences.html#3207" class="Function">is-fiberwise-equiv</a> <a id="1369" href="foundation.fundamental-theorem-of-identity-types.html#1321" class="Bound">f</a>
    <a id="1375" href="foundation.fundamental-theorem-of-identity-types.html#1270" class="Function">fundamental-theorem-id</a> <a id="1398" href="foundation.fundamental-theorem-of-identity-types.html#1398" class="Bound">is-contr-AB</a> <a id="1410" href="foundation.fundamental-theorem-of-identity-types.html#1410" class="Bound">f</a> <a id="1412" class="Symbol">=</a>
      <a id="1420" href="foundation-core.functoriality-dependent-pair-types.html#6382" class="Function">is-fiberwise-equiv-is-equiv-tot</a>
        <a id="1460" class="Symbol">(</a> <a id="1462" href="foundation-core.contractible-types.html#3861" class="Function">is-equiv-is-contr</a> <a id="1480" class="Symbol">(</a><a id="1481" href="foundation-core.functoriality-dependent-pair-types.html#1425" class="Function">tot</a> <a id="1485" href="foundation.fundamental-theorem-of-identity-types.html#1410" class="Bound">f</a><a id="1486" class="Symbol">)</a> <a id="1488" class="Symbol">(</a><a id="1489" href="foundation-core.contractible-types.html#1838" class="Function">is-contr-total-path</a> <a id="1509" href="foundation.fundamental-theorem-of-identity-types.html#1239" class="Bound">a</a><a id="1510" class="Symbol">)</a> <a id="1512" href="foundation.fundamental-theorem-of-identity-types.html#1398" class="Bound">is-contr-AB</a><a id="1523" class="Symbol">)</a>

  <a id="1528" class="Keyword">abstract</a>
    <a id="1541" href="foundation.fundamental-theorem-of-identity-types.html#1541" class="Function">fundamental-theorem-id&#39;</a> <a id="1565" class="Symbol">:</a>
      <a id="1573" class="Symbol">(</a><a id="1574" href="foundation.fundamental-theorem-of-identity-types.html#1574" class="Bound">f</a> <a id="1576" class="Symbol">:</a> <a id="1578" class="Symbol">(</a><a id="1579" href="foundation.fundamental-theorem-of-identity-types.html#1579" class="Bound">x</a> <a id="1581" class="Symbol">:</a> <a id="1583" href="foundation.fundamental-theorem-of-identity-types.html#1211" class="Bound">A</a><a id="1584" class="Symbol">)</a> <a id="1586" class="Symbol">→</a> <a id="1588" href="foundation.fundamental-theorem-of-identity-types.html#1239" class="Bound">a</a> <a id="1590" href="foundation-core.identity-types.html#5999" class="Function Operator">＝</a> <a id="1592" href="foundation.fundamental-theorem-of-identity-types.html#1579" class="Bound">x</a> <a id="1594" class="Symbol">→</a> <a id="1596" href="foundation.fundamental-theorem-of-identity-types.html#1223" class="Bound">B</a> <a id="1598" href="foundation.fundamental-theorem-of-identity-types.html#1579" class="Bound">x</a><a id="1599" class="Symbol">)</a> <a id="1601" class="Symbol">→</a> <a id="1603" href="foundation-core.equivalences.html#3207" class="Function">is-fiberwise-equiv</a> <a id="1622" href="foundation.fundamental-theorem-of-identity-types.html#1574" class="Bound">f</a> <a id="1624" class="Symbol">→</a> <a id="1626" href="foundation-core.contractible-types.html#802" class="Function">is-contr</a> <a id="1635" class="Symbol">(</a><a id="1636" href="foundation.dependent-pair-types.html#505" class="Record">Σ</a> <a id="1638" href="foundation.fundamental-theorem-of-identity-types.html#1211" class="Bound">A</a> <a id="1640" href="foundation.fundamental-theorem-of-identity-types.html#1223" class="Bound">B</a><a id="1641" class="Symbol">)</a>
    <a id="1647" href="foundation.fundamental-theorem-of-identity-types.html#1541" class="Function">fundamental-theorem-id&#39;</a> <a id="1671" href="foundation.fundamental-theorem-of-identity-types.html#1671" class="Bound">f</a> <a id="1673" href="foundation.fundamental-theorem-of-identity-types.html#1673" class="Bound">is-fiberwise-equiv-f</a> <a id="1694" class="Symbol">=</a>
      <a id="1702" href="foundation-core.contractible-types.html#3349" class="Function">is-contr-is-equiv&#39;</a>
        <a id="1729" class="Symbol">(</a> <a id="1731" href="foundation.dependent-pair-types.html#505" class="Record">Σ</a> <a id="1733" href="foundation.fundamental-theorem-of-identity-types.html#1211" class="Bound">A</a> <a id="1735" class="Symbol">(</a><a id="1736" href="foundation-core.identity-types.html#5936" class="Datatype">Id</a> <a id="1739" href="foundation.fundamental-theorem-of-identity-types.html#1239" class="Bound">a</a><a id="1740" class="Symbol">))</a>
        <a id="1751" class="Symbol">(</a> <a id="1753" href="foundation-core.functoriality-dependent-pair-types.html#1425" class="Function">tot</a> <a id="1757" href="foundation.fundamental-theorem-of-identity-types.html#1671" class="Bound">f</a><a id="1758" class="Symbol">)</a>
        <a id="1768" class="Symbol">(</a> <a id="1770" href="foundation-core.functoriality-dependent-pair-types.html#5990" class="Function">is-equiv-tot-is-fiberwise-equiv</a> <a id="1802" href="foundation.fundamental-theorem-of-identity-types.html#1673" class="Bound">is-fiberwise-equiv-f</a><a id="1822" class="Symbol">)</a>
        <a id="1832" class="Symbol">(</a> <a id="1834" href="foundation-core.contractible-types.html#1838" class="Function">is-contr-total-path</a> <a id="1854" href="foundation.fundamental-theorem-of-identity-types.html#1239" class="Bound">a</a><a id="1855" class="Symbol">)</a>
</pre>
## Corollaries

<pre class="Agda"><a id="1886" class="Keyword">module</a> <a id="1893" href="foundation.fundamental-theorem-of-identity-types.html#1893" class="Module">_</a>
  <a id="1897" class="Symbol">{</a><a id="1898" href="foundation.fundamental-theorem-of-identity-types.html#1898" class="Bound">l1</a> <a id="1901" href="foundation.fundamental-theorem-of-identity-types.html#1901" class="Bound">l2</a> <a id="1904" class="Symbol">:</a> <a id="1906" href="Agda.Primitive.html#591" class="Postulate">Level</a><a id="1911" class="Symbol">}</a> <a id="1913" class="Symbol">{</a><a id="1914" href="foundation.fundamental-theorem-of-identity-types.html#1914" class="Bound">A</a> <a id="1916" class="Symbol">:</a> <a id="1918" href="Agda.Primitive.html#320" class="Primitive">UU</a> <a id="1921" href="foundation.fundamental-theorem-of-identity-types.html#1898" class="Bound">l1</a><a id="1923" class="Symbol">}</a> <a id="1925" class="Symbol">{</a><a id="1926" href="foundation.fundamental-theorem-of-identity-types.html#1926" class="Bound">B</a> <a id="1928" class="Symbol">:</a> <a id="1930" href="foundation.fundamental-theorem-of-identity-types.html#1914" class="Bound">A</a> <a id="1932" class="Symbol">→</a> <a id="1934" href="Agda.Primitive.html#320" class="Primitive">UU</a> <a id="1937" href="foundation.fundamental-theorem-of-identity-types.html#1901" class="Bound">l2</a><a id="1939" class="Symbol">}</a> <a id="1941" class="Symbol">(</a><a id="1942" href="foundation.fundamental-theorem-of-identity-types.html#1942" class="Bound">a</a> <a id="1944" class="Symbol">:</a> <a id="1946" href="foundation.fundamental-theorem-of-identity-types.html#1914" class="Bound">A</a><a id="1947" class="Symbol">)</a> <a id="1949" class="Symbol">(</a><a id="1950" href="foundation.fundamental-theorem-of-identity-types.html#1950" class="Bound">b</a> <a id="1952" class="Symbol">:</a> <a id="1954" href="foundation.fundamental-theorem-of-identity-types.html#1926" class="Bound">B</a> <a id="1956" href="foundation.fundamental-theorem-of-identity-types.html#1942" class="Bound">a</a><a id="1957" class="Symbol">)</a>
  <a id="1961" class="Keyword">where</a>

  <a id="1970" class="Keyword">abstract</a>
    <a id="1983" href="foundation.fundamental-theorem-of-identity-types.html#1983" class="Function">fundamental-theorem-id-J</a> <a id="2008" class="Symbol">:</a>
      <a id="2016" href="foundation-core.contractible-types.html#802" class="Function">is-contr</a> <a id="2025" class="Symbol">(</a><a id="2026" href="foundation.dependent-pair-types.html#505" class="Record">Σ</a> <a id="2028" href="foundation.fundamental-theorem-of-identity-types.html#1914" class="Bound">A</a> <a id="2030" href="foundation.fundamental-theorem-of-identity-types.html#1926" class="Bound">B</a><a id="2031" class="Symbol">)</a> <a id="2033" class="Symbol">→</a> <a id="2035" href="foundation-core.equivalences.html#3207" class="Function">is-fiberwise-equiv</a> <a id="2054" class="Symbol">(</a><a id="2055" href="foundation-core.identity-types.html#6607" class="Function">ind-Id</a> <a id="2062" href="foundation.fundamental-theorem-of-identity-types.html#1942" class="Bound">a</a> <a id="2064" class="Symbol">(λ</a> <a id="2067" href="foundation.fundamental-theorem-of-identity-types.html#2067" class="Bound">x</a> <a id="2069" href="foundation.fundamental-theorem-of-identity-types.html#2069" class="Bound">p</a> <a id="2071" class="Symbol">→</a> <a id="2073" href="foundation.fundamental-theorem-of-identity-types.html#1926" class="Bound">B</a> <a id="2075" href="foundation.fundamental-theorem-of-identity-types.html#2067" class="Bound">x</a><a id="2076" class="Symbol">)</a> <a id="2078" href="foundation.fundamental-theorem-of-identity-types.html#1950" class="Bound">b</a><a id="2079" class="Symbol">)</a>
    <a id="2085" href="foundation.fundamental-theorem-of-identity-types.html#1983" class="Function">fundamental-theorem-id-J</a> <a id="2110" href="foundation.fundamental-theorem-of-identity-types.html#2110" class="Bound">is-contr-AB</a> <a id="2122" class="Symbol">=</a>
      <a id="2130" href="foundation.fundamental-theorem-of-identity-types.html#1270" class="Function">fundamental-theorem-id</a> <a id="2153" href="foundation.fundamental-theorem-of-identity-types.html#2110" class="Bound">is-contr-AB</a> <a id="2165" class="Symbol">(</a><a id="2166" href="foundation-core.identity-types.html#6607" class="Function">ind-Id</a> <a id="2173" href="foundation.fundamental-theorem-of-identity-types.html#1942" class="Bound">a</a> <a id="2175" class="Symbol">(λ</a> <a id="2178" href="foundation.fundamental-theorem-of-identity-types.html#2178" class="Bound">x</a> <a id="2180" href="foundation.fundamental-theorem-of-identity-types.html#2180" class="Bound">p</a> <a id="2182" class="Symbol">→</a> <a id="2184" href="foundation.fundamental-theorem-of-identity-types.html#1926" class="Bound">B</a> <a id="2186" href="foundation.fundamental-theorem-of-identity-types.html#2178" class="Bound">x</a><a id="2187" class="Symbol">)</a> <a id="2189" href="foundation.fundamental-theorem-of-identity-types.html#1950" class="Bound">b</a><a id="2190" class="Symbol">)</a>

  <a id="2195" class="Keyword">abstract</a>
    <a id="2208" href="foundation.fundamental-theorem-of-identity-types.html#2208" class="Function">fundamental-theorem-id-J&#39;</a> <a id="2234" class="Symbol">:</a>
      <a id="2242" class="Symbol">(</a><a id="2243" href="foundation-core.equivalences.html#3207" class="Function">is-fiberwise-equiv</a> <a id="2262" class="Symbol">(</a><a id="2263" href="foundation-core.identity-types.html#6607" class="Function">ind-Id</a> <a id="2270" href="foundation.fundamental-theorem-of-identity-types.html#1942" class="Bound">a</a> <a id="2272" class="Symbol">(λ</a> <a id="2275" href="foundation.fundamental-theorem-of-identity-types.html#2275" class="Bound">x</a> <a id="2277" href="foundation.fundamental-theorem-of-identity-types.html#2277" class="Bound">p</a> <a id="2279" class="Symbol">→</a> <a id="2281" href="foundation.fundamental-theorem-of-identity-types.html#1926" class="Bound">B</a> <a id="2283" href="foundation.fundamental-theorem-of-identity-types.html#2275" class="Bound">x</a><a id="2284" class="Symbol">)</a> <a id="2286" href="foundation.fundamental-theorem-of-identity-types.html#1950" class="Bound">b</a><a id="2287" class="Symbol">))</a> <a id="2290" class="Symbol">→</a> <a id="2292" href="foundation-core.contractible-types.html#802" class="Function">is-contr</a> <a id="2301" class="Symbol">(</a><a id="2302" href="foundation.dependent-pair-types.html#505" class="Record">Σ</a> <a id="2304" href="foundation.fundamental-theorem-of-identity-types.html#1914" class="Bound">A</a> <a id="2306" href="foundation.fundamental-theorem-of-identity-types.html#1926" class="Bound">B</a><a id="2307" class="Symbol">)</a>
    <a id="2313" href="foundation.fundamental-theorem-of-identity-types.html#2208" class="Function">fundamental-theorem-id-J&#39;</a> <a id="2339" href="foundation.fundamental-theorem-of-identity-types.html#2339" class="Bound">H</a> <a id="2341" class="Symbol">=</a>
      <a id="2349" href="foundation-core.contractible-types.html#3349" class="Function">is-contr-is-equiv&#39;</a>
        <a id="2376" class="Symbol">(</a> <a id="2378" href="foundation.dependent-pair-types.html#505" class="Record">Σ</a> <a id="2380" href="foundation.fundamental-theorem-of-identity-types.html#1914" class="Bound">A</a> <a id="2382" class="Symbol">(</a><a id="2383" href="foundation-core.identity-types.html#5936" class="Datatype">Id</a> <a id="2386" href="foundation.fundamental-theorem-of-identity-types.html#1942" class="Bound">a</a><a id="2387" class="Symbol">))</a>
        <a id="2398" class="Symbol">(</a> <a id="2400" href="foundation-core.functoriality-dependent-pair-types.html#1425" class="Function">tot</a> <a id="2404" class="Symbol">(</a><a id="2405" href="foundation-core.identity-types.html#6607" class="Function">ind-Id</a> <a id="2412" href="foundation.fundamental-theorem-of-identity-types.html#1942" class="Bound">a</a> <a id="2414" class="Symbol">(λ</a> <a id="2417" href="foundation.fundamental-theorem-of-identity-types.html#2417" class="Bound">x</a> <a id="2419" href="foundation.fundamental-theorem-of-identity-types.html#2419" class="Bound">p</a> <a id="2421" class="Symbol">→</a> <a id="2423" href="foundation.fundamental-theorem-of-identity-types.html#1926" class="Bound">B</a> <a id="2425" href="foundation.fundamental-theorem-of-identity-types.html#2417" class="Bound">x</a><a id="2426" class="Symbol">)</a> <a id="2428" href="foundation.fundamental-theorem-of-identity-types.html#1950" class="Bound">b</a><a id="2429" class="Symbol">))</a>
        <a id="2440" class="Symbol">(</a> <a id="2442" href="foundation-core.functoriality-dependent-pair-types.html#5990" class="Function">is-equiv-tot-is-fiberwise-equiv</a> <a id="2474" href="foundation.fundamental-theorem-of-identity-types.html#2339" class="Bound">H</a><a id="2475" class="Symbol">)</a>
        <a id="2485" class="Symbol">(</a> <a id="2487" href="foundation-core.contractible-types.html#1838" class="Function">is-contr-total-path</a> <a id="2507" href="foundation.fundamental-theorem-of-identity-types.html#1942" class="Bound">a</a><a id="2508" class="Symbol">)</a>
</pre>
### Retracts of the identity type are equivalent to the identity type

<pre class="Agda"><a id="2594" class="Keyword">module</a> <a id="2601" href="foundation.fundamental-theorem-of-identity-types.html#2601" class="Module">_</a>
  <a id="2605" class="Symbol">{</a><a id="2606" href="foundation.fundamental-theorem-of-identity-types.html#2606" class="Bound">l1</a> <a id="2609" href="foundation.fundamental-theorem-of-identity-types.html#2609" class="Bound">l2</a> <a id="2612" class="Symbol">:</a> <a id="2614" href="Agda.Primitive.html#591" class="Postulate">Level</a><a id="2619" class="Symbol">}</a> <a id="2621" class="Symbol">{</a><a id="2622" href="foundation.fundamental-theorem-of-identity-types.html#2622" class="Bound">A</a> <a id="2624" class="Symbol">:</a> <a id="2626" href="Agda.Primitive.html#320" class="Primitive">UU</a> <a id="2629" href="foundation.fundamental-theorem-of-identity-types.html#2606" class="Bound">l1</a><a id="2631" class="Symbol">}</a> <a id="2633" class="Symbol">{</a><a id="2634" href="foundation.fundamental-theorem-of-identity-types.html#2634" class="Bound">B</a> <a id="2636" class="Symbol">:</a> <a id="2638" href="foundation.fundamental-theorem-of-identity-types.html#2622" class="Bound">A</a> <a id="2640" class="Symbol">→</a> <a id="2642" href="Agda.Primitive.html#320" class="Primitive">UU</a> <a id="2645" href="foundation.fundamental-theorem-of-identity-types.html#2609" class="Bound">l2</a><a id="2647" class="Symbol">}</a> <a id="2649" class="Symbol">(</a><a id="2650" href="foundation.fundamental-theorem-of-identity-types.html#2650" class="Bound">a</a> <a id="2652" class="Symbol">:</a> <a id="2654" href="foundation.fundamental-theorem-of-identity-types.html#2622" class="Bound">A</a><a id="2655" class="Symbol">)</a>
  <a id="2659" class="Keyword">where</a>

  <a id="2668" class="Keyword">abstract</a>
    <a id="2681" href="foundation.fundamental-theorem-of-identity-types.html#2681" class="Function">fundamental-theorem-id-retraction</a> <a id="2715" class="Symbol">:</a>
      <a id="2723" class="Symbol">(</a><a id="2724" href="foundation.fundamental-theorem-of-identity-types.html#2724" class="Bound">i</a> <a id="2726" class="Symbol">:</a> <a id="2728" class="Symbol">(</a><a id="2729" href="foundation.fundamental-theorem-of-identity-types.html#2729" class="Bound">x</a> <a id="2731" class="Symbol">:</a> <a id="2733" href="foundation.fundamental-theorem-of-identity-types.html#2622" class="Bound">A</a><a id="2734" class="Symbol">)</a> <a id="2736" class="Symbol">→</a> <a id="2738" href="foundation.fundamental-theorem-of-identity-types.html#2634" class="Bound">B</a> <a id="2740" href="foundation.fundamental-theorem-of-identity-types.html#2729" class="Bound">x</a> <a id="2742" class="Symbol">→</a> <a id="2744" href="foundation.fundamental-theorem-of-identity-types.html#2650" class="Bound">a</a> <a id="2746" href="foundation-core.identity-types.html#5999" class="Function Operator">＝</a> <a id="2748" href="foundation.fundamental-theorem-of-identity-types.html#2729" class="Bound">x</a><a id="2749" class="Symbol">)</a> <a id="2751" class="Symbol">→</a> <a id="2753" class="Symbol">(</a><a id="2754" href="foundation.fundamental-theorem-of-identity-types.html#2754" class="Bound">R</a> <a id="2756" class="Symbol">:</a> <a id="2758" class="Symbol">(</a><a id="2759" href="foundation.fundamental-theorem-of-identity-types.html#2759" class="Bound">x</a> <a id="2761" class="Symbol">:</a> <a id="2763" href="foundation.fundamental-theorem-of-identity-types.html#2622" class="Bound">A</a><a id="2764" class="Symbol">)</a> <a id="2766" class="Symbol">→</a> <a id="2768" href="foundation-core.retractions.html#788" class="Function">retraction</a> <a id="2779" class="Symbol">(</a><a id="2780" href="foundation.fundamental-theorem-of-identity-types.html#2724" class="Bound">i</a> <a id="2782" href="foundation.fundamental-theorem-of-identity-types.html#2759" class="Bound">x</a><a id="2783" class="Symbol">))</a> <a id="2786" class="Symbol">→</a>
      <a id="2794" href="foundation-core.equivalences.html#3207" class="Function">is-fiberwise-equiv</a> <a id="2813" href="foundation.fundamental-theorem-of-identity-types.html#2724" class="Bound">i</a>
    <a id="2819" href="foundation.fundamental-theorem-of-identity-types.html#2681" class="Function">fundamental-theorem-id-retraction</a> <a id="2853" href="foundation.fundamental-theorem-of-identity-types.html#2853" class="Bound">i</a> <a id="2855" href="foundation.fundamental-theorem-of-identity-types.html#2855" class="Bound">R</a> <a id="2857" class="Symbol">=</a>
      <a id="2865" href="foundation-core.functoriality-dependent-pair-types.html#6382" class="Function">is-fiberwise-equiv-is-equiv-tot</a>
        <a id="2905" class="Symbol">(</a> <a id="2907" href="foundation-core.contractible-types.html#3861" class="Function">is-equiv-is-contr</a> <a id="2925" class="Symbol">(</a><a id="2926" href="foundation-core.functoriality-dependent-pair-types.html#1425" class="Function">tot</a> <a id="2930" href="foundation.fundamental-theorem-of-identity-types.html#2853" class="Bound">i</a><a id="2931" class="Symbol">)</a>
          <a id="2943" class="Symbol">(</a> <a id="2945" href="foundation-core.contractible-types.html#2418" class="Function">is-contr-retract-of</a> <a id="2965" class="Symbol">(</a><a id="2966" href="foundation.dependent-pair-types.html#505" class="Record">Σ</a> <a id="2968" class="Symbol">_</a> <a id="2970" class="Symbol">(λ</a> <a id="2973" href="foundation.fundamental-theorem-of-identity-types.html#2973" class="Bound">y</a> <a id="2975" class="Symbol">→</a> <a id="2977" href="foundation.fundamental-theorem-of-identity-types.html#2650" class="Bound">a</a> <a id="2979" href="foundation-core.identity-types.html#5999" class="Function Operator">＝</a> <a id="2981" href="foundation.fundamental-theorem-of-identity-types.html#2973" class="Bound">y</a><a id="2982" class="Symbol">))</a>
            <a id="2997" class="Symbol">(</a> <a id="2999" href="foundation.dependent-pair-types.html#586" class="InductiveConstructor">pair</a> <a id="3004" class="Symbol">(</a><a id="3005" href="foundation-core.functoriality-dependent-pair-types.html#1425" class="Function">tot</a> <a id="3009" href="foundation.fundamental-theorem-of-identity-types.html#2853" class="Bound">i</a><a id="3010" class="Symbol">)</a>
              <a id="3026" class="Symbol">(</a> <a id="3028" href="foundation.dependent-pair-types.html#586" class="InductiveConstructor">pair</a> <a id="3033" class="Symbol">(</a><a id="3034" href="foundation-core.functoriality-dependent-pair-types.html#1425" class="Function">tot</a> <a id="3038" class="Symbol">λ</a> <a id="3040" href="foundation.fundamental-theorem-of-identity-types.html#3040" class="Bound">x</a> <a id="3042" class="Symbol">→</a> <a id="3044" href="foundation.dependent-pair-types.html#603" class="Field">pr1</a> <a id="3048" class="Symbol">(</a><a id="3049" href="foundation.fundamental-theorem-of-identity-types.html#2855" class="Bound">R</a> <a id="3051" href="foundation.fundamental-theorem-of-identity-types.html#3040" class="Bound">x</a><a id="3052" class="Symbol">))</a>
                <a id="3071" class="Symbol">(</a> <a id="3073" class="Symbol">(</a> <a id="3075" href="foundation-core.homotopies.html#3079" class="Function">inv-htpy</a> <a id="3084" class="Symbol">(</a><a id="3085" href="foundation-core.functoriality-dependent-pair-types.html#3186" class="Function">preserves-comp-tot</a> <a id="3104" href="foundation.fundamental-theorem-of-identity-types.html#2853" class="Bound">i</a> <a id="3106" class="Symbol">(λ</a> <a id="3109" href="foundation.fundamental-theorem-of-identity-types.html#3109" class="Bound">x</a> <a id="3111" class="Symbol">→</a> <a id="3113" href="foundation.dependent-pair-types.html#603" class="Field">pr1</a> <a id="3117" class="Symbol">(</a><a id="3118" href="foundation.fundamental-theorem-of-identity-types.html#2855" class="Bound">R</a> <a id="3120" href="foundation.fundamental-theorem-of-identity-types.html#3109" class="Bound">x</a><a id="3121" class="Symbol">))))</a> <a id="3126" href="foundation-core.homotopies.html#3281" class="Function Operator">∙h</a>
                  <a id="3147" class="Symbol">(</a> <a id="3149" class="Symbol">(</a> <a id="3151" href="foundation-core.functoriality-dependent-pair-types.html#2762" class="Function">tot-htpy</a> <a id="3160" class="Symbol">λ</a> <a id="3162" href="foundation.fundamental-theorem-of-identity-types.html#3162" class="Bound">x</a> <a id="3164" class="Symbol">→</a> <a id="3166" href="foundation.dependent-pair-types.html#615" class="Field">pr2</a> <a id="3170" class="Symbol">(</a><a id="3171" href="foundation.fundamental-theorem-of-identity-types.html#2855" class="Bound">R</a> <a id="3173" href="foundation.fundamental-theorem-of-identity-types.html#3162" class="Bound">x</a><a id="3174" class="Symbol">))</a> <a id="3177" href="foundation-core.homotopies.html#3281" class="Function Operator">∙h</a> <a id="3180" class="Symbol">(</a><a id="3181" href="foundation-core.functoriality-dependent-pair-types.html#3015" class="Function">tot-id</a> <a id="3188" href="foundation.fundamental-theorem-of-identity-types.html#2634" class="Bound">B</a><a id="3189" class="Symbol">)))))</a>
            <a id="3207" class="Symbol">(</a> <a id="3209" href="foundation-core.contractible-types.html#1838" class="Function">is-contr-total-path</a> <a id="3229" href="foundation.fundamental-theorem-of-identity-types.html#2650" class="Bound">a</a><a id="3230" class="Symbol">))</a>
          <a id="3243" class="Symbol">(</a> <a id="3245" href="foundation-core.contractible-types.html#1838" class="Function">is-contr-total-path</a> <a id="3265" href="foundation.fundamental-theorem-of-identity-types.html#2650" class="Bound">a</a><a id="3266" class="Symbol">))</a>
</pre>
### The fundamental theorem of identity types, using sections

<pre class="Agda"><a id="3345" class="Keyword">module</a> <a id="3352" href="foundation.fundamental-theorem-of-identity-types.html#3352" class="Module">_</a>
  <a id="3356" class="Symbol">{</a><a id="3357" href="foundation.fundamental-theorem-of-identity-types.html#3357" class="Bound">l1</a> <a id="3360" href="foundation.fundamental-theorem-of-identity-types.html#3360" class="Bound">l2</a> <a id="3363" class="Symbol">:</a> <a id="3365" href="Agda.Primitive.html#591" class="Postulate">Level</a><a id="3370" class="Symbol">}</a> <a id="3372" class="Symbol">{</a><a id="3373" href="foundation.fundamental-theorem-of-identity-types.html#3373" class="Bound">A</a> <a id="3375" class="Symbol">:</a> <a id="3377" href="Agda.Primitive.html#320" class="Primitive">UU</a> <a id="3380" href="foundation.fundamental-theorem-of-identity-types.html#3357" class="Bound">l1</a><a id="3382" class="Symbol">}</a> <a id="3384" class="Symbol">{</a><a id="3385" href="foundation.fundamental-theorem-of-identity-types.html#3385" class="Bound">B</a> <a id="3387" class="Symbol">:</a> <a id="3389" href="foundation.fundamental-theorem-of-identity-types.html#3373" class="Bound">A</a> <a id="3391" class="Symbol">→</a> <a id="3393" href="Agda.Primitive.html#320" class="Primitive">UU</a> <a id="3396" href="foundation.fundamental-theorem-of-identity-types.html#3360" class="Bound">l2</a><a id="3398" class="Symbol">}</a> <a id="3400" class="Symbol">(</a><a id="3401" href="foundation.fundamental-theorem-of-identity-types.html#3401" class="Bound">a</a> <a id="3403" class="Symbol">:</a> <a id="3405" href="foundation.fundamental-theorem-of-identity-types.html#3373" class="Bound">A</a><a id="3406" class="Symbol">)</a>
  <a id="3410" class="Keyword">where</a>

  <a id="3419" class="Keyword">abstract</a>
    <a id="3432" href="foundation.fundamental-theorem-of-identity-types.html#3432" class="Function">fundamental-theorem-id-section</a> <a id="3463" class="Symbol">:</a>
      <a id="3471" class="Symbol">(</a><a id="3472" href="foundation.fundamental-theorem-of-identity-types.html#3472" class="Bound">f</a> <a id="3474" class="Symbol">:</a> <a id="3476" class="Symbol">(</a><a id="3477" href="foundation.fundamental-theorem-of-identity-types.html#3477" class="Bound">x</a> <a id="3479" class="Symbol">:</a> <a id="3481" href="foundation.fundamental-theorem-of-identity-types.html#3373" class="Bound">A</a><a id="3482" class="Symbol">)</a> <a id="3484" class="Symbol">→</a> <a id="3486" href="foundation.fundamental-theorem-of-identity-types.html#3401" class="Bound">a</a> <a id="3488" href="foundation-core.identity-types.html#5999" class="Function Operator">＝</a> <a id="3490" href="foundation.fundamental-theorem-of-identity-types.html#3477" class="Bound">x</a> <a id="3492" class="Symbol">→</a> <a id="3494" href="foundation.fundamental-theorem-of-identity-types.html#3385" class="Bound">B</a> <a id="3496" href="foundation.fundamental-theorem-of-identity-types.html#3477" class="Bound">x</a><a id="3497" class="Symbol">)</a> <a id="3499" class="Symbol">→</a> <a id="3501" class="Symbol">((</a><a id="3503" href="foundation.fundamental-theorem-of-identity-types.html#3503" class="Bound">x</a> <a id="3505" class="Symbol">:</a> <a id="3507" href="foundation.fundamental-theorem-of-identity-types.html#3373" class="Bound">A</a><a id="3508" class="Symbol">)</a> <a id="3510" class="Symbol">→</a> <a id="3512" href="foundation-core.sections.html#706" class="Function">section</a> <a id="3520" class="Symbol">(</a><a id="3521" href="foundation.fundamental-theorem-of-identity-types.html#3472" class="Bound">f</a> <a id="3523" href="foundation.fundamental-theorem-of-identity-types.html#3503" class="Bound">x</a><a id="3524" class="Symbol">))</a> <a id="3527" class="Symbol">→</a>
      <a id="3535" href="foundation-core.equivalences.html#3207" class="Function">is-fiberwise-equiv</a> <a id="3554" href="foundation.fundamental-theorem-of-identity-types.html#3472" class="Bound">f</a>
    <a id="3560" href="foundation.fundamental-theorem-of-identity-types.html#3432" class="Function">fundamental-theorem-id-section</a> <a id="3591" href="foundation.fundamental-theorem-of-identity-types.html#3591" class="Bound">f</a> <a id="3593" href="foundation.fundamental-theorem-of-identity-types.html#3593" class="Bound">section-f</a> <a id="3603" href="foundation.fundamental-theorem-of-identity-types.html#3603" class="Bound">x</a> <a id="3605" class="Symbol">=</a>
      <a id="3613" href="foundation-core.equivalences.html#12693" class="Function">is-equiv-section-is-equiv</a> <a id="3639" class="Symbol">(</a><a id="3640" href="foundation.fundamental-theorem-of-identity-types.html#3591" class="Bound">f</a> <a id="3642" href="foundation.fundamental-theorem-of-identity-types.html#3603" class="Bound">x</a><a id="3643" class="Symbol">)</a> <a id="3645" class="Symbol">(</a><a id="3646" href="foundation.fundamental-theorem-of-identity-types.html#3593" class="Bound">section-f</a> <a id="3656" href="foundation.fundamental-theorem-of-identity-types.html#3603" class="Bound">x</a><a id="3657" class="Symbol">)</a> <a id="3659" class="Symbol">(</a><a id="3660" href="foundation.fundamental-theorem-of-identity-types.html#3896" class="Function">is-fiberwise-equiv-i</a> <a id="3681" href="foundation.fundamental-theorem-of-identity-types.html#3603" class="Bound">x</a><a id="3682" class="Symbol">)</a>
      <a id="3690" class="Keyword">where</a>
      <a id="3702" href="foundation.fundamental-theorem-of-identity-types.html#3702" class="Function">i</a> <a id="3704" class="Symbol">:</a> <a id="3706" class="Symbol">(</a><a id="3707" href="foundation.fundamental-theorem-of-identity-types.html#3707" class="Bound">x</a> <a id="3709" class="Symbol">:</a> <a id="3711" href="foundation.fundamental-theorem-of-identity-types.html#3373" class="Bound">A</a><a id="3712" class="Symbol">)</a> <a id="3714" class="Symbol">→</a> <a id="3716" href="foundation.fundamental-theorem-of-identity-types.html#3385" class="Bound">B</a> <a id="3718" href="foundation.fundamental-theorem-of-identity-types.html#3707" class="Bound">x</a> <a id="3720" class="Symbol">→</a> <a id="3722" href="foundation.fundamental-theorem-of-identity-types.html#3401" class="Bound">a</a> <a id="3724" href="foundation-core.identity-types.html#5999" class="Function Operator">＝</a> <a id="3726" href="foundation.fundamental-theorem-of-identity-types.html#3707" class="Bound">x</a>
      <a id="3734" href="foundation.fundamental-theorem-of-identity-types.html#3702" class="Function">i</a> <a id="3736" class="Symbol">=</a> <a id="3738" class="Symbol">λ</a> <a id="3740" href="foundation.fundamental-theorem-of-identity-types.html#3740" class="Bound">x</a> <a id="3742" class="Symbol">→</a> <a id="3744" href="foundation.dependent-pair-types.html#603" class="Field">pr1</a> <a id="3748" class="Symbol">(</a><a id="3749" href="foundation.fundamental-theorem-of-identity-types.html#3593" class="Bound">section-f</a> <a id="3759" href="foundation.fundamental-theorem-of-identity-types.html#3740" class="Bound">x</a><a id="3760" class="Symbol">)</a>
      <a id="3768" href="foundation.fundamental-theorem-of-identity-types.html#3768" class="Function">retraction-i</a> <a id="3781" class="Symbol">:</a> <a id="3783" class="Symbol">(</a><a id="3784" href="foundation.fundamental-theorem-of-identity-types.html#3784" class="Bound">x</a> <a id="3786" class="Symbol">:</a> <a id="3788" href="foundation.fundamental-theorem-of-identity-types.html#3373" class="Bound">A</a><a id="3789" class="Symbol">)</a> <a id="3791" class="Symbol">→</a> <a id="3793" href="foundation-core.retractions.html#788" class="Function">retraction</a> <a id="3804" class="Symbol">(</a><a id="3805" href="foundation.fundamental-theorem-of-identity-types.html#3702" class="Function">i</a> <a id="3807" href="foundation.fundamental-theorem-of-identity-types.html#3784" class="Bound">x</a><a id="3808" class="Symbol">)</a>
      <a id="3816" href="foundation.dependent-pair-types.html#603" class="Field">pr1</a> <a id="3820" class="Symbol">(</a><a id="3821" href="foundation.fundamental-theorem-of-identity-types.html#3768" class="Function">retraction-i</a> <a id="3834" href="foundation.fundamental-theorem-of-identity-types.html#3834" class="Bound">x</a><a id="3835" class="Symbol">)</a> <a id="3837" class="Symbol">=</a> <a id="3839" href="foundation.fundamental-theorem-of-identity-types.html#3591" class="Bound">f</a> <a id="3841" href="foundation.fundamental-theorem-of-identity-types.html#3834" class="Bound">x</a>
      <a id="3849" href="foundation.dependent-pair-types.html#615" class="Field">pr2</a> <a id="3853" class="Symbol">(</a><a id="3854" href="foundation.fundamental-theorem-of-identity-types.html#3768" class="Function">retraction-i</a> <a id="3867" href="foundation.fundamental-theorem-of-identity-types.html#3867" class="Bound">x</a><a id="3868" class="Symbol">)</a> <a id="3870" class="Symbol">=</a> <a id="3872" href="foundation.dependent-pair-types.html#615" class="Field">pr2</a> <a id="3876" class="Symbol">(</a><a id="3877" href="foundation.fundamental-theorem-of-identity-types.html#3593" class="Bound">section-f</a> <a id="3887" href="foundation.fundamental-theorem-of-identity-types.html#3867" class="Bound">x</a><a id="3888" class="Symbol">)</a>
      <a id="3896" href="foundation.fundamental-theorem-of-identity-types.html#3896" class="Function">is-fiberwise-equiv-i</a> <a id="3917" class="Symbol">:</a> <a id="3919" href="foundation-core.equivalences.html#3207" class="Function">is-fiberwise-equiv</a> <a id="3938" href="foundation.fundamental-theorem-of-identity-types.html#3702" class="Function">i</a>
      <a id="3946" href="foundation.fundamental-theorem-of-identity-types.html#3896" class="Function">is-fiberwise-equiv-i</a> <a id="3967" class="Symbol">=</a>
        <a id="3977" href="foundation.fundamental-theorem-of-identity-types.html#2681" class="Function">fundamental-theorem-id-retraction</a> <a id="4011" href="foundation.fundamental-theorem-of-identity-types.html#3401" class="Bound">a</a> <a id="4013" href="foundation.fundamental-theorem-of-identity-types.html#3702" class="Function">i</a> <a id="4015" href="foundation.fundamental-theorem-of-identity-types.html#3768" class="Function">retraction-i</a>
</pre>