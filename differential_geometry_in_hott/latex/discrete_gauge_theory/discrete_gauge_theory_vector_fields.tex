\section{Vector fields}
\label{sec:vector_fields}
\subsection{Definition}
Vector fields are sections of the tangent bundle of a manifold. We do not have a general theory of tangent bundles, even for 2-dimensional cellular types, since we cannot yet prove that connections always exist on the 1-skeleton. But \emph{given} an extension \( T \) of the \( \link \) function, we can consider the type of sections \( \pit{x:\mm_1}T_1(x) \).

\begin{mydef}
A \defemph{vector field} on a higher combinatorial 2-manifold \( \mm \) equipped with type family \( T:\mm\to\EMzo \) that extends \( \link \) is a term \( X:\pit{x:\mm_1}T_1(x) \). It may be possible to extend \( X \) to one or more faces of \( \mm \), but we call faces for which \( X \) cannot be extended \defemph{zeros of the vector field}.\todo{prove that the index is an obstruction}
\end{mydef}

\begin{mynote}
A section \( \pit{x:\mm}T(x) \) for \( T:\mm\to\Kzt \) is a trivialization of the bundle. The fact that an orientation suffices to factor the tangent bundle of a 2-manifold (which \emph{a priori} maps to \( \EMzo \)) through a principal bundle classifier is special to dimension 2. For higher dimensional manifolds the tangent bundle is a bundle of spheres, and even if the bundle is oriented it is not necessarily a principal bundle. On the other hand, the \( n \)-truncation modal operator maps the type of \( n \)-spheres to the classifying space \( \K(\zz,n) \), and so another way to phrase this remark is that \( S^1 \) is the only \( n \)-sphere which is \( n \)-truncated.
\end{mynote}

On the 0-skeleton \( X \) picks a point in each link, i.e. a neighbor of each vertex. On a path \( p:x=_\mm y \), \( X \) assigns a dependent path over \( p \), which as we know is a term \( \pi:\tr(p)(X(x))=_{T y} X(y) \). We are very interested in working with the concatenation operation on dependent paths, which we call \emph{swirling}.

\subsection{Swirling}
Consider the vertex \( v_1:\mm \), a face \( F \) containing vertices \( v_1, v_2, v_3 \), and the boundary path \( \ell\defeq e_{12}\cdot e_{23} \cdot e_{31} \). For brevity, denote \( T(v_i) \) by \( T_i \) and \( T(e_{ij}) \) by \( T_{ji} \). The indices are swapped so that we can have expressions that respect function-composition order, such as \( T_{32}T_{21}(X_1):T_3 \). Figure~\ref{fig:vector_transport} shows in tabular form how we concatenate the dependent paths over \( e_{12}\cdot e_{23}\cdot e_{31} \). Figure~\ref{fig:swirling} shows visually a possible example.

\begin{figure}[h]
\centering
% https://q.uiver.app/#q=WzAsMTQsWzAsMSwiWF8xIl0sWzEsMSwiWF8yIl0sWzIsMSwiWF8zIl0sWzEsMiwiVF97MjF9WF8xIl0sWzIsMiwiVF97MzJ9WF8yIl0sWzIsMywiVF97MzJ9VF97MjF9WF8xIl0sWzMsMSwiWF8xIl0sWzMsMiwiVF97MTN9WF8zIl0sWzMsMywiVF97MTN9VF97MzJ9WF8yIl0sWzMsNCwiVF97MTN9VF97MzJ9VF97MjF9WF8xIl0sWzAsMCwiVF8xIl0sWzEsMCwiVF8yIl0sWzIsMCwiVF8zIl0sWzMsMCwiVF8xIl0sWzEwLDExLCJUX3syMX0iXSxbMTEsMTIsIlRfezMyfSJdLFsxMiwxMywiVF97MTN9Il0sWzEsMywiWF97MTJ9OiIsMix7ImxldmVsIjoyLCJzdHlsZSI6eyJoZWFkIjp7Im5hbWUiOiJub25lIn19fV0sWzIsNCwiWF97MjN9OiIsMix7ImxldmVsIjoyLCJzdHlsZSI6eyJoZWFkIjp7Im5hbWUiOiJub25lIn19fV0sWzYsNywiWF97MzF9OiIsMix7ImxldmVsIjoyLCJzdHlsZSI6eyJoZWFkIjp7Im5hbWUiOiJub25lIn19fV0sWzQsNSwiVF97MzJ9WF97MTJ9OiIsMix7ImxldmVsIjoyLCJzdHlsZSI6eyJoZWFkIjp7Im5hbWUiOiJub25lIn19fV0sWzcsOCwiVF97MTN9WF97MjN9OiIsMix7ImxldmVsIjoyLCJzdHlsZSI6eyJoZWFkIjp7Im5hbWUiOiJub25lIn19fV0sWzgsOSwiVF97MTN9VF97MzJ9WF97MTJ9OiIsMix7ImxldmVsIjoyLCJzdHlsZSI6eyJoZWFkIjp7Im5hbWUiOiJub25lIn19fV1d
\begin{tikzcd}
  {T_1} & {T_2} & {T_3} & {T_1} \\
  {X_1} & {X_2} & {X_3} & {X_1} \\
  & {T_{21}X_1} & {T_{32}X_2} & {T_{13}X_3} \\
  && {T_{32}T_{21}X_1} & {T_{13}T_{32}X_2} \\
  &&& {T_{13}T_{32}T_{21}X_1}
  \arrow["{T_{21}}", from=1-1, to=1-2]
  \arrow["{T_{32}}", from=1-2, to=1-3]
  \arrow["{T_{13}}", from=1-3, to=1-4]
  \arrow["{X_{12}:}"', equals, from=2-2, to=3-2]
  \arrow["{X_{23}:}"', equals, from=2-3, to=3-3]
  \arrow["{X_{31}:}"', equals, from=2-4, to=3-4]
  \arrow["{T_{32}X_{12}:}"', equals, from=3-3, to=4-3]
  \arrow["{T_{13}X_{23}:}"', equals, from=3-4, to=4-4]
  \arrow["{T_{13}T_{32}X_{12}:}"', equals, from=4-4, to=5-4]
\end{tikzcd}
\caption{The data in each fiber as we move around a triangle with vertices indexed 1, 2, and 3. Double-lines indicate identity types between two types, and their labels are terms of this type. Items with one index are terms of some type at a vertex, and items with two indices are terms of a type on an edge.}
\label{fig:vector_transport}
\end{figure}

As we traverse an edge, say \( e_{12} \), we get a path in \( T_2 \) which is the image of \( e_{12} \) under \( X \), denoted \( X_{12} \). As we traverse an additional edge, \( X_{12} \) is simply mapped to the next vertex by transport. The image is carried first to \( T_{32}(X_{12}) \) then to \( T_{13}\circ T_{32}(X_{12}) \).

\begin{figure}[h]
\centering
\begin{tikzpicture}
  [arrow/.style={-{Stealth[scale=1.1]}}, vec/.style={ultra thick, color=black}, vectr/.style={thick, color=black}, vectrtr/.style={thick, dashed, color=black}, vectrtrtr/.style={thick, dotted, color=black}]
  \tikzset{oo/.style={circle, scale=0.6, fill=black}}
  \tikzset{ii/.style={circle, scale=0.3, fill=gray}}
\newlength{\mylen}
  \setlength{\mylen}{3cm}
  \newlength{\mylin}
  \setlength{\mylin}{1.2cm}
    \node[oo, label=below right:\( v_1 \)] (V1) at (0, 0) {};
    \node[oo, label=below:\( v_2 \)] (V2) at (2*\mylen, 0) {};
    \node[oo, label=above:\( v_3 \)] (V3) at (\mylen, 1.732*\mylen) {};

    \draw[arrow] (V2) edge[very thick, color=teal, "\( e_{23} \)"] (V3);
    \draw[arrow] (V1) edge[very thick, color=magenta, "\( e_{12} \)"] (V2);
    \draw[arrow] (V3) edge[very thick, color=blue, "\( e_{31} \)"] (V1);
    
    \node [ii, above=\mylin of V1.north, label=above:\( v_{11} \)] (V11) {};
    \node [ii, right=\mylin of V1.east,  label=below right:\( v_{12} \)] (V12) {};
    \node [ii, below=\mylin of V1.south, label=below:\( v_{13} \)] (V13) {};
    \node [ii, left= \mylin of V1.west,  label=left: \( v_{14} \)] (V14) {};

    \node [ii, above=\mylin of V2.north, label=above:\( v_{21} \)] (V21) {};
    \node [ii, right=\mylin of V2.east,  label=right:\( v_{22} \)] (V22) {};
    \node [ii, below=\mylin of V2.south, label=below:\( v_{23} \)] (V23) {};
    \node [ii, left= \mylin of V2.west,  label=below left: \( v_{24} \)] (V24) {};

    \node [ii, above=\mylin of V3.north, label=above:\( v_{31} \)] (V31) {};
    \node [ii, right=\mylin of V3.east,  label=right:\( v_{32} \)] (V32) {};
    \node [ii, below=\mylin of V3.south, label=below:\( v_{33} \)] (V33) {};
    \node [ii, left= \mylin of V3.west,  label=left: \( v_{34} \)] (V34) {};

    \draw[dashed] (V11) -- (V12);
    \draw[dashed] (V12) -- (V13);
    \draw[dashed] (V13) -- (V14);
    \draw[dashed] (V14) -- (V11);

    \draw[dashed] (V21) -- (V22);
    \draw[dashed] (V22) -- (V23);
    \draw[dashed] (V23) -- (V24);
    \draw[dashed] (V24) -- (V21);
    
    \draw[dashed] (V31) -- (V32);
    \draw[dashed] (V32) -- (V33);
    \draw[dashed] (V33) -- (V34);
    \draw[dashed] (V34) -- (V31);
    
    \draw[arrow] (V1) edge[vec] (V11);
    \draw[arrow] (V2) edge[vectr] (V21);
    \draw[arrow] (V3) edge[vectrtr] (V34);
    \draw[arrow] (V1) edge[vectrtrtr] (V14);

    \draw[arrow] (V2) edge[vec] (V24);
    \draw[arrow] (V3) edge[vectr] (V33);
    \draw[arrow] (V1) edge[vectrtr] (V13);

    \draw[arrow] (V21) edge[thick, color=magenta] (V24);
    \draw[arrow] (V34) edge[thick, color=magenta] (V33);
    \draw[arrow] (V14) edge[thick, color=magenta] (V13);
    \draw[arrow] (V33) edge[thick, color=teal] (V32);
    \draw[arrow] (V13) edge[thick, color=teal] (V12);
    \draw[arrow] (V12) edge[thick, color=blue] (V11);

    \draw[arrow] (V3) edge[vec] (V32);
    \draw[arrow] (V1) edge[vectr] (V12);

\end{tikzpicture}
\caption{A vector field swirling around a face, in a bundle of squares. Imagine that transport along \( e_{12} \) does not rotate along the page, that transport along \( e_{23} \) rotates counterclockwise by 90 degrees, and that transport along \( e_{31} \) again does not rotate along the page. Thick black vectors are the vector field at a point. Thin vectors are transported once, dashed twice, and dotted three times. The vertices \( v_{ij} \) are in the tangent fibers. If you see color, the colors of the arrows correspond: the red edge produced the red edge in the fibers.}
\label{fig:swirling}
\end{figure}

\subsection{An example vector field on the sphere}
\todo{define the example I worked out, compute swirling}
