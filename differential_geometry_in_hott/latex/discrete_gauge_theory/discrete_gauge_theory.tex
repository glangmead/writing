\documentclass[12pt]{article}
\usepackage{greg}
\usepackage[baskerville,vvarbb]{newtxmath}
\usepackage{fontspec}
\usepackage{titlesec}
\usepackage[nottoc]{tocbibind}

\usepackage{fancyvrb}
\setmainfont{Baskerville}
\setsansfont{Quadrat-Serial}
\setmonofont{Courier New}

\titleformat*{\section}{\large\sffamily}
\titleformat*{\subsection}{\normalsize\sffamily}
\titleformat*{\subsubsection}{\normalsize\sffamily}
\titleformat{\chapter}[hang]{\LARGE\sffamily}{\LARGE\thechapter}{1ex}{}[]
\titleformat{name=\chapter,numberless}[hang]{\LARGE\sffamily}{}{0ex}{}[]

\title{Discrete gauge theory in homotopy type theory}
\author{Greg Langmead}
\begin{document}

\begin{abstract}
We identify connections, curvature, and gauge transformations within the structures of homotopy type theory. Whereas most classical treatments of these structures rely entirely on infinitesimal definitions, there is an equivalent discrete story of which the infinitesimal version is a limit, analogous to the relationship between smooth paths and tangent vectors, or between de Rham and ÄŒech cohomology. We will show how to identify the elements of discrete gauge theory, provide some evidence that this is what we have found, and use it to prove some results from the 20th century mathematics of gauge theory that depend only on homotopy types.
\end{abstract}

%\tableofcontents

\mysection{Introduction}
\begin{quote} 
\centering 
"It is always ourselves we work on, whether we realize it or not. There is no other work to be done in the world." --- Stephen Talbott, \emph{The Future Does Not Compute}\cite{talbott}
\end{quote}

Homotopy type theory offers us an opportunity to better understand the mathematics of the past. It does this by moving more of the commonly used structures into the foundational layer of mathematical logic, and then asking us to express old ideas in the new foundations. The difficulty of doing this varies considerably. Some would say that what we gain is the ability to formalize the resulting math, but this makes it appear that ``banking theorems'' is what math is. It's not. Math is about each person's journey of understanding, which we share with each other and at which we help each other succeed. The math is the means, and the byproduct, of our own quest for understanding. I wanted to understand geometry, connections, curvature, and gauge theory, and I have done that. I'd like to share it with you.

Connections are not inherently infinitesimal. Infinitesimal connections assign holonomy to curves if you integrate them, and if you define holonomy directly on the space of paths in a manifold then you can differentiate the assignment to get a 1-form with values in the Lie algebra of the group where the holonomy takes it values (see \cite{freed1992classical} Appendix B).

\subsection{Functions are multidimensional}

Functions in homotopy type theory carry information in all dimensions at once. Given \( f:X\to Y \) we can access the value of \( f \) on paths with terms like \( \ap(f,-):x=_Xy\to f(x)=_Y f(y) \) and we can iterate this with more \( \ap \)s. 

\subsection{Pathovers}
Given a type family \( f:X\to \uni \) and a path \( p:x=_X x' \), and given terms \( y:f(x), y':f(x') \) in the two fibers, we can define the type \( y\pathover{p}y' \) by induction: if \( p \) is \( \refl \) then \( y=y' \) lives in a single fiber \( f(x) \) where it reduces to the usual identity type.

There is an equivalence \( y\pathover{p}y'\simeq \tr(p,y)=_{f(x')}y' \). Furthermore if we also have a dependent function (section) \( s:\pit{x:X} f(x) \) then we can form \( \apd(f,p):s(x)\pathover{p}s(x') \). In other words, there may be a whole type of paths between two points upstairs \( y, y' \) but if there is also a section then we have a special section-specific pathover between \( s(x), s(x') \).

\begin{mylemma}
Given a type family \( f:X\to\uni \) and terms \( x,x':X, y:f(x), y':f(x') \) then there is an equivalence 
\[ 
  \left((x,y) =_{\sit{x:X}f(x)} (x',y')\right) \simeq 
  (x=x')\times (y=y).
\]
\end{mylemma}
\begin{proof}
Both sides are identity types in a sigma type, so we must prove
\[ 
\sit{p:x=x'}y\pathover{p}y' \simeq \sit{p:x=x'}y=y.
\] 
This reduces to proving \( y\pathover{p}y'\simeq y=y  \). By induction when \( p=\refl \) both sides are \( y=y \) which we prove with \( \refl \). (Compare to (\cite{Symmetry} Lemma 4.14.1) which assumes a section.)
\end{proof}

So given a path \( p \) in the base and points upstairs over the endpoints, the dependent paths over \( p \) are equivalent to loops at one upstairs point, which are regular non-dependent paths. If \( p \) is a loop in \( x=x \) then the type of dependent loops over that loop is equivalent to the non-dependent loops \( y=y \).

\subsection{Deloopings}

A \emph{delooping} of a group is a pointed type whose loop space is the group. The references we follow here are \cite{Symmetry} and \cite{buchholtz2023central}. Especially:

\begin{mydef}
 (\cite{buchholtz2023central} Definition 4.1) \( \BAut_1(G):=\sit{X:U}||X=G||_0 \).
\end{mydef}

\begin{mythm}
(\cite{buchholtz2023central} Theorem 4.26) The type of \( G \)-torsors is equivalent to \( \BAut_1(G) \).
\end{mythm}

The component \( ||X=G||_0 \) is called a \( G \)-band. Its data consists of a choice of basepoint in \( X \) to map to the identity in \( G \).

The loop space at the base point is the given group. The loop space at other points are equivalent groups (e.g. conjugations of the group). The path spaces between pairs of points are torsors of the given group.

\subsection{Mapping into deloopings}

A map \( f:B\dotto \BAuto{G} \) maps points to types that are torsors, maps 1-paths to isomorphims between torsors, and maps 2-paths to homotopies between these. A special case of this is: \( f \) maps a single point \( x \) to a torsor, maps loops \( p:x=x \) to terms of \( G \) and maps 2-paths \( H:p=\refl \) to paths in \( G \) ending at the identity point. For this last map to land somewhere nontrivial \( G \) must have such paths. This is the analogue for us of \( G \) being a Lie group of positive (classical) dimension.

A motivating example is \( \oo\defeq\two\join(\two\join\two) \). This is an octahedron with 6 points, 12 paths, and 8 2-paths. Think of it as representing a good open cover of a cube, where each vertex of \( \oo \) is one contractible open set covering a face of the cube (plus a little overlap to the four neighboring faces), each path in \( \oo \) is an overlap of two of these face open sets, and each 2-path is a 3-way overlap. We use a join because the join keeps all the 0-dimensional points of all of the \( \two \)s as 0-dimensional points in the final type, it doesn't send them up into a higher dimension like the suspension does.

Let's name the vertices after the colors of a Rubik's cube: (\( w \))hite on top, (\( y \))ellow on the bottom, (\( g \))reen facing out of the page, (\( b \))lue facing into the page, (\( r \))ed to the right and (\( o \))range to the left. We can name the paths \( \{wg, wb, wr, wo, yg, yb, yr, yo, gr, rb, bo, og\} \) based on what vertices they connect, with \( wg \) a path of type \( w=g \) and its inverse has the two names \( (wg)^{-1} \) and \( gw \). For the faces \( \{wgr, wbr, wgo, wbo, ygr, ybr, ygo, ybo\} \) the notation means that \( wgr:wg\cdot gr\cdot rw=\refl_w \).

That's the domain of our map. Let's map it into \( \BAutoso \) with a certain basepoint. Consider a generalization of \( S^1 \),  an \emph{\( n \)-gon} \( C_n \), generated by
\begin{itemize}
\item \( v_1,\ldots,v_n:C_n \)
\item \( e_1:v_1=v_2\)
\item \( e_2:v_2=v_3 \)
\item \( \ldots \) 
\item \(e_{n-1}:v_{n-1}=v_n\)
\item \(e_n:v_n=v_1 \)
\end{itemize}

There is a map \( s_n:C_n\to C_n \) that sends \( v_i\mapsto v_{i+1} \) and \( v_n\mapsto v_1 \), the generating cyclic permutation. 

\begin{mylemma}
  We have \( g:\pit{n:\nn}C_n\simeq S^1 \)
\end{mylemma}
\proof Generalize \cite{hottbook} Lemma 6.5.1.\qed

The reason we're interested in these is that they form arbitrarily fine-grained approximations to the smooth circle. We can consider an \( n \)-gon to be a circle that has a notion of ``going around \( 1/n \)th of the way''.

Now let's re-point \( \BAutoso \) at \( C_4 \). We can use a + to denote a pointed type, and we can decorate it with the base point, like so: \( \BAutosoc \). We can then refer to the underlying type (first projection from the pointed type) with \( \BAutoso_- \). This is similar to the notation \( \BAutoso_{\div} \) you find in the Symmetry book \cite{Symmetry}.

To construct \( f:\oo\to\BAutosoc \) and have it imitate the tangent bundle of the sphere, try this:
\begin{itemize}
\item \( w, y, g, b, r, o\mapsto C_4 \)
\item \( wg, wb, wr, wo, yg, yb, yr, yo, gr, rb, bo, og\mapsto v_1 \)
\item \( wrg, wbr, wgo, wob, ygr, yrb, yog, ybo \mapsto s_4 \)
\end{itemize}

The order of the letters is especially important around the equator, the edges with no \( w \) or \( y \) in them. These appear in opposite order in the faces \( wxx \) versus \( yxx \). So \( ygr \) maps to \( s_4 \) but \( yrg \) maps to \( s_4^{-1} \). 

If you concatenate all 8 faces you perform two full rotations around \( C_4 \). On the one hand we're adding up a total curvature in this discrete setting and getting 2 rotations. On the other hand we're adding some combinatorial data and getting 2. In classical mathematics this is the Gauss-Bonnet theorem, relating total curvature to the Euler characteristic. Its generalization is called Chern-Weil theory, linking characteristic classes with certain functions of curvature. We'll get there.

\mysection{Higher covers}

One problem with the space \( \BAutoso \) is that it's spatially discrete. There are no smooth circles for smooth manifolds to get hung up on. It has been argued that this means that any would-be classifying map \( f:X\to \BAutoso \) can only produce principal bundles with \emph{flat} connections. That would not achieve our goals, and so it would be disappointing. It looks even worse when we notice that \( f \) must factor through the shape unit \( (-)^\shape:X\to\shape X \) by the universal property of \( \shape \) for a map into a discrete space. And when we examine \( \shape X \) we see that homotopic paths are identified and so must apparently be sent to equal holonomies, just as in a flat connection.

Fortunately there's some hand-waving in the previous paragraph and there are indeed non-flat connections in \( \shape f:\shape X\to \BAutoso \). They are not the infinitesimal variety of course. They are known as \emph{discrete connections}\cite{crane_connections}\cite{crane_ddg}. Discrete connections are an assignment of group elements to discrete paths in a combinatorial manifold. If we represent the homotopy type of \( X \) by a discrete combinatorial manifold, then we can observe a meaningful discrete curvature of the principal bundle, and in so doing access the homotopy-invariant aspects of gauge theory.

What makes this all work is that \( S^1 \) is a discrete 1-type, not a discrete set. A map from \( \shape X\to BG \) for a discrete set-level group \( G \) would indeed carry its unique \emph{flat} connection, since homotopic paths must map to the same set element. But so long as we're willing to work with discrete spaces and discrete connections, we can see geometry inside homotopy type theory!

Following David Jaz Myers in \cite{myersgood}, we define a cover as follows:

\begin{mydef}
  A map \(\pi:E\to B\) is a \emph{cover} if it is \(\shapeo\)-Ã©tale and its fibers are sets.
\end{mydef}

Recall that \(\pi\) being \(\shapeo\)-Ã©tale means that the naturality square 
\[
\begin{CD}
E @>(-)^{\shapeo}>> \shapeo E \\
@V{\pi}VV @VV{\shapeo \pi}V \\
B @>>(-)^{\shapeo}> \shapeo B
\end{CD}
\]
is a pullback, which means among other things that each corresponding fiber of the vertical maps is equivalent.

As David proves in \cite{myersgood}, the type of \(\shapeo\)-Ã©tale maps into \(B\) is equivalent to the function type \(\shapeo B \to \Typeo\). Since a cover has the further condition that the fibers are sets this implies

\begin{mylemma}
  The type of covers over \(B\) is equivalent to \(\shapeo B \to \Type_{\shapez}\).
\end{mylemma}

In homotopy type theory we pass easily between the vertical picture (maps into \(B\)) and the horizontal picture (classifying maps of \(B\) into some type of fibers). But when we unpack this a little bit we find important classical stories. If we equip \(B\) with a basepoint \(*_B\) then a map \(f:\shapeo B \dotto \Type_{\shapez}\) is an action of the group \(\shapeo B\) on the set \(f(*_B)\), which is the fiber over \(*_B\).

Let us move up a dimension:

\begin{mydef}
  A map \(\pi:E\to B\) is a \emph{2-cover} if it is \(\shapet\)-Ã©tale and its fibers are groupoids.
\end{mydef}

\begin{mylemma}
  The type of 2-covers over \(B\) is equivalent to \(\shapet B \to \Typeo\). Further, since \(\Typeo\) is 2-truncated, the type of 2-covers of \(B\) is equivalent to \(\shape B\to \Typeo\).
\end{mylemma}

This is the type we will examine: maps from discrete \( n \)-types to the type of discrete 1-types.

For example, let \(S^1\) be the higher inductive type generated by
\begin{itemize}
\item \( \mathsf{base}:S^1 \)
\item \( \mathsf{loop}:\mathsf{base}=\mathsf{base} \)
\end{itemize}

We can deloop \(S^1\) by forming its type of torsors. This is equivalent to \(\BAutoso\defeq\sit{X:\Type}||X=S^1||_0\), the type of pairs of a type together with an equivalence class of isomorphisms with \( S^1 \) (see \cite{buchholtz2023central}). 

\begin{mylemma}Terms of \( \BAutoso \) are discrete 1-types.\end{mylemma}\begin{proof} TBD.\end{proof}

\section{Evidence that we found curved connections}

\subsection{The Hopf fibration}

\subsection{The hairy ball theorem}

\subsection{The Atiyah sequence}

This is an exact sequence of bundles. Converting them to paths gives us the lemmas about pathovers.

\subsection{Freed and Hopkins}
Any claim to define connections in higher toposes must contend with Freed and Hopkins \cite{freed2013chernweil}. They introduce simplicial sets and simplicial sheaves in order to construct a classifying space for principal bundles with connection, which is a higher category. Actually they need higher categories even to classify principal bundles alone, since they wish to do so on the nose rather than up to homotopy, and so they need a groupoid-level classifying space.

In their language, the classifying space is the simplicial sheaf of trivializable principal \( G \)-bundles with connection. (\( G \) is a compact Lie group.) A connection is a classical, infinitesimal one, i.e. a 1-form with values in the Lie algebra \( \gg \). And so their classifying space is the product (bundle classifier) \( \times \) (connection). If we compose the 1-form with integration, we form a map from the paths in the classifying space to \( G \). But the 1-dimensional structure of \( \BAutoso \) is already \( G \) since it's a delooping of \( G \). So maybe they are just building the higher type \( \BAutoso \) as a product of two spaces.

If that's the case, then can we see in our picture the Weil algebra and so on that they end up proving is the cohomology of this classifying space?

\subsection{Atiyah and Bott}

Let \( \Bpb:\Typesp \) be a pointed discrete type and let \( f:\Bpb\dotto\BAutosoc \). If we need to reference the proof of pointedness we'll call it \( *_f:f(b)=C_4 \). 

\begin{mylemma} \( \shape(X\to Y)\simeq \shape X\to \shape Y \)\end{mylemma}.
\begin{proof}
TODO
\end{proof}

And so any results that depend only on the homotopy type of, say, a classifying map, can be studied in HoTT by replacing both the domain and the classifying type with their homotopy types.

\begin{myprop}(\cite{atiyah1983yang} Proposition 2.4)
  Let \( BG \) be the classifying space for a compact Lie group \( G \). Then in homotopy theory 
  \[ 
    B\Gg(P)=\mathrm{Map}_P(M, BG) 
  \]
  where \( \Gg(P) \) is the group of automorphisms of the principal bundle \( P \), and where \( \mathrm{Map}_P \) denotes the connected component of \( M\to BG \) containing the classifying map of \( P \).
\end{myprop}

\bibliography{connections}
\end{document}
