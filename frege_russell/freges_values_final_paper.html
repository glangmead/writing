<h1 id="freges-values">Frege’s Values</h1>
<p>In the 1890s Gottlob Frege expanded the power of logic as well as its scope. His stated goal was to show that the natural numbers could be created inside logic. But why was he doing this? What benefits did he think this would have and what value statements did he provide? I will show that what Frege valued was the rigorous pursuit of mathematical truth, and that he viewed his own contributions as entirely methodological. I will further show that this view, that logic serves the broader mathematical endeavor, is consistent with major streams of foundational mathematical activity today. I will examine type theory and the communities who use it to cultivate a flourishing mathematical practice. But lurking inside this rosy picture is a new crisis for mathematics. Ironically, this is not another instance of the crises of the 19th and 20th centuries, where mathematics required a renewed commitment to rigor in order to avoid confusion, paradoxes, or errors. There are indeed vocal elements today who claim that we are in just such a crisis! But this time we have all the tools we need to achieve the desired standards. Unfortunately, the proponents of those very tools have indirectly brought about a crisis of values, by inviting agents from more intellectually impoverished fields to bring their degrading AI-centric values into mathematics and begin to impose them. What we need now is to repel these attacks with a new commitment to Frege’s values: that logic is a tool of the inherently human exploration of mathematics, and not a value unto itself.</p>
<h2 id="freges-goals-logic-in-service-of-mainstream-mathematics">1. Frege’s goals: logic in service of mainstream mathematics</h2>
<p>Frege’s first big document, the <em>Begriffsschrift</em> (1879), begins its preface with the sentence “The recognition of a scientific truth generally passes through several stages of certainty.”<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> The rest of the document, and indeed Frege’s entire body of work, is devoted to upgrading the <em>certainty</em> of <em>scientific truth</em>. The value is truth, and his methodology will help lend additional certainty to it. He does not level any criticisms at the agenda inside of mathematics or science generally. It’s true that he argues for what we would call a positivist take on science and mathematics, i.e. the position that mathematical objects are real objects in a real abstract and platonic realm of ideas. It’s also true that he argues against a psychological frame for such objects. But these are philosophical underpinnings, and again do not second guess the activites that the practitioners choose to focus on. So the arc of scientific inquiry, and of mathematical research, is a fixed background object that he seems to approve of and wants to support.</p>
<p>The support he wants to offer is an epistemological upgrade: more airtight arguments which are more grounded in logic. Delivering this upgrade has two parts. First Frege will add constructions to logic itself, notably universal quantifiers and a primitive system of types, so that it can express a broader class of ideas and install them in the epistemological bedrock.</p>
<p>With his suite of logical tools, Frege can offer his second idea, which is the Begriffsschrift, or concept script, itself. This is a notational tool for a mathematician to apply the laws of logic to some starting expressions that have been suitably encoded, working down the page applying laws of inference from the small permitted library, until a conclusion is reached. It is crucial that the concept script is a new notation, with little in common with spoken and written human languages except the use of letters for variables (he cites “the inadequacy of language”). Here is an example that in modern notation would be “B ∧ (B → A) → A” or in words “if B holds, and B implies A, then A holds”:</p>
<figure>
<img src="modus_ponens.png" alt="Modus ponens in the concept script" /><figcaption aria-hidden="true">Modus ponens in the concept script</figcaption>
</figure>
<p>and here is his diagram showing that his expressions can subsume the “square of opposition”, a sort of ad-hoc logical tool used over the preceding centuries<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>:</p>
<figure>
<img src="opposition_square.png" alt="Square of opposition" /><figcaption aria-hidden="true">Square of opposition</figcaption>
</figure>
<p>Frege’s proposal can be expressed as a layer diagram, where lower levels support the ones above, and higher layers make use of the ones directly underneath:</p>
<pre><code>Science and Mathematics
-----------------------
Concept script
-----------------------
Logic</code></pre>
<p>He wants the concept script and logical framework to be adopted. The concept script will mediate all uses of logic, and so if you use the concept script you will connect your work all the way to the bedrock:</p>
<blockquote>
<p>The firmest proof is obviously the purely logical, which, prescinding from [i.e., holding itself apart from] the particularity of things, is based solely on the laws on which all knowledge rests.</p>
</blockquote>
<p>And you will be empowered to avoid all intuitive leaps and your proof will be free of gaps:</p>
<blockquote>
<p>So that nothing intuitive could intrude here unnoticed, everything had to depend on the chain of inference being free of gaps.</p>
</blockquote>
<blockquote>
<p>Everything that is necessary for a valid inference is fully expressed [in the concept script]; but what is not necessary is mostly not even indicated; <em>nothing is left to guessing</em>.</p>
</blockquote>
<p>His comparison of the concept script to a microscope is very illuminating. First of all it is a tool which we use to examine the true subject matter at hand, namely scientific truth. But used properly the microscope does not set the agenda or ask the questions. It is a tool that lays alongside the primary inquiry.</p>
<p>He even includes a roadmap of future goals for the concept script, to support even more scientific areas such as geometry, analysis, and physics:</p>
<blockquote>
<p>It seems to me to be even easier to extend the domain of this formula language to geometry. Only a few more symbols would have to be added for the intuitive relations that occur here. In this way one would obtain a kind of analysis situs. The transition to the pure theory of motion and thence to mechanics and physics might follow here.</p>
</blockquote>
<p>The analogy to a software library gaining features over time is hard to avoid, and I don’t think it needs to be avoided! But the point I want to keep emphasizing is that he is not trying to disturb the trajectory of these fields, he’s trying to help them succeed. The scientific fields in question already have the right mission statements: scientific truth. He is aligned with that goal.</p>
<p>Frege might feel that I am downplaying his primary achievement, which was to enlarge logic to the point where the natural numbers and laws of arithmetic were included directly in the logical layer. This was the subject of his later works <em>The Foundations of Arithmetic</em> (1884) and <em>Basic Laws of Arithmetic</em> (part 1 in 1893, part 2 in 1903). Since the real numbers had been built up rigourously from the natural numbers by contemporaries such as Richard Dedekind, Frege would be connecting the whole edifice directly into logic. He felt this was a big missing piece:</p>
<blockquote>
<p>Yet is it not shameful that a science should be so unclear about its most prominent object, which is apparently so simple?</p>
</blockquote>
<p>He spends many pages of these later works trying to define “concepts” and “objects”, so that numbers can then be real objects in a platonic sense. He captures his definition using something similar to set theory except that the atomic objects are extensions of propositional functions. The extension of a propositional function is all the objects that yield the value True when plugged into the function. Then he defines 0 and 1 and a successor function, and can then use the concept script to prove theorems about arithmetic.</p>
<p>This part of his quest, subsuming arithmetic into logic, is not easy to assess. Most of it takes the form of philosophical writing in human language, like any other philosophy paper, and so it’s doubtful he has an airtight case. But it doesn’t matter so long as we allow ourselves to deal separately with the philosophical status of our foundations, and the inferences we make from those foundations. The successful portion of Frege’s work is the strategy of building a system of logic, and then somehow empowering ourselves to make airtight arguments <em>starting from that system</em>.</p>
<p>Tying it all together we have these elements:</p>
<ol type="1">
<li>Science and mathematics have value.</li>
<li>They generate value in part because they are rigorous.</li>
<li>Enhancing the rigor would enhance the power and the value of these activities.</li>
<li>The enhancement can be brought about by expanding logic and by creating methods to effectively wield the logic: tools for people to perform gap-free inference.</li>
</ol>
<h2 id="formalizing-mathematics-carrying-out-freges-project">2. Formalizing mathematics: carrying out Frege’s project</h2>
<p>The microscope that Frege invented is a logical system with a primitive notion of types. The type system consisted of “objects” at the lowest level, then functions of objects at level 1, then higher functions at the higher levels (e.g., a function of two arguments that takes a second-level function and an object would be a third-order function). His logical rules of inference are these nine (in modern notation):</p>
<ol type="1">
<li>⊢ a → (b → a)</li>
<li>⊢ (c → (b → a)) → (c → b) → (c → a)</li>
<li>⊢ (d → (b → a)) → b → (d → a)</li>
<li>⊢ (b → a) → (¬a → ¬b)</li>
<li>⊢ ¬¬a → a</li>
<li>⊢ a → ¬¬a</li>
<li>⊢ (c ≣ d) → f(c) → f(d)</li>
<li>⊢ c ≣ c</li>
<li>⊢ ∀a.f(a) → f(c)</li>
</ol>
<p>Quite a lot of his specification is easily recognizable today, of course because we adopted it. His introduction of the universal quantifier, for example, (∀ in modern notation) was an original and impactful contribution. He was also careful about the use of bound and free variables, and of the fact that the quantifieres need to have their scope specified. He also distinguished two kinds of equality to accompany his two levels of meaning, known as <em>sense</em> and <em>reference</em>. The sense of an expression is the exact meaning of the syntactic encoding, and the reference is a semantic object to which the sense eventually refers, possibly after doing a lot of work to unpack the syntax. His famous linguistic example is how “the morning star” has the same reference as “the evening star” since both are the planet Venus. But they differ at the level of sense, and they pick out the planet via different methods. Similarly, the equation “a = a” holds because the senses are syntactically the same, whereas “a + b = b + a” holds after a short proof, i.e. the senses differ but the references turn out to be the same. All of these ideas remain relevant today and we’ll return to them when we look at type theory.</p>
<p>It’s not just the logic that was prescient, but the concept script as well. Compare the concept script notation we saw earlier with, say, the heavy use of prose in most mathematics textbooks from the last 150 years. Most mathematicians are content with a lesser version of rigor, where arguments are made very carefully and as airtight as possible, but remain optimistically rooted in the intuition and incisiveness of the human operator. Frege did not think this was good enough:</p>
<blockquote>
<p>The requirements on the rigour of proofs inevitably result in greater length. Anyone who does not bear this in mind will indeed be surprised at how long-winded the proof often is here of a proposition that he believes can be immediately grasped in a single act of understanding. This will be particularly striking if we compare Dedekind’s work <em>Was sind und was sollen die Zahlen?</em>, the most thorough work on the foundation of arithmetic that has come to my attention in the last few years. In much less space it pursues the laws of arithmetic much further than is done here. This brevity is admittedly only achieved by not really proving much at all.</p>
</blockquote>
<p>Patrick Massot, a prominent member of the Lean and mathlib community, makes a convincing case<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a> that it is easy to overlook special cases such as the empty set when reasoning informally, but that Frege-style gap-free reasoning, of a kind that is literally being performed today with the help of computers, will catch these cases. This sort of completeness of argumentation is helpful, even crucial, and Frege deserves credit for focusing on this part of the challenge. Frege was clearly able to relate to the experience Massot is describing, where the formal system informs the operator that they must consider the case of the empty set:</p>
<blockquote>
<p>one must write down all intermediate steps, to let the full light of consciousness fall upon them.</p>
</blockquote>
<p>I’ll have more to say about computers and mathlib shortly. But before I leave the subject of computers for now, it’s important to note something we do <em>not</em> see in Frege’s value system. There is a danger of conflating stricly computational activity, such as that performed by digital computers, or human computers, with mindless or degrading or even harmful jobs<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a>. There is no evidence that Frege felt this way about a would-be operator of the concept script. We have just seen that he admitted the proofs would be long, but nowhere does he mention automation or machinery. He seems to have envisioned even the fully rigorous process as intended not only for people, but for mathematicians themselves.</p>
<h2 id="disagreement-with-hilbert">3. Disagreement with Hilbert</h2>
<p>I want to discuss something Frege knew about but wrongly rejected. It’s a little depressing that he missed out on it, because as we will see it’s the other piece of the modern point of view, and enabled the vindication of Frege’s logic and concept script in the end.</p>
<p>In 1899 Hilbert published <em>Foundations of Geometry</em>, which we recognize now as a major development. He proposed splitting mathematical theories, such as Euclidean geometry, into two parts. One part contains the axioms of the theory, including any conceptual objects which the theory will talk about and operate on. For geometry the objects are <em>points</em>, <em>lines</em>, <em>line segments</em>, <em>circles</em>, <em>angles</em>, and so on. The axioms could be, say, Euclid’s postulates (from Wolfram MathWorld<a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a>):</p>
<ol type="1">
<li>A straight line segment can be drawn joining any two points.</li>
<li>Any straight line segment can be extended indefinitely in a straight line.</li>
<li>Given any straight line segment, a circle can be drawn having the segment as radius and one endpoint as center.</li>
<li>All right angles are congruent.</li>
<li>Given any straight line and a point not on it, there exists one and only one straight line which passes” through that point and never intersects the first line, no matter how far they are extended.</li>
</ol>
<p>The second part of the theory is to take the axioms and <em>interpret</em> them in some specific mathematical setting. We could interpret all the objects (points, lines, etc.) in the usual Euclidean way in the plane, for example. But we could also work on a two-dimensional sphere and interpret “point” to mean “pair of antipodal points on the sphere” and “line” to mean “great circle”. We then get a second consistent theory except for postulate 5, which fails to hold because instead of there existing one such line, there are none.</p>
<p>There are at least three things going on here. First of all, it condenses geometry, both Euclidean and non-Euclidean, into a concise logical package. Secondly it empowers us to split our arguments into two parts. One part can focus on all the deductions we can make simply based on the axioms, without referring to the interpretation. Some results, such as the content of postulate 5, will not be provable that way. We have to pass to the interpretation that lives on the flat plane before we can prove it, and so it’s more contingent. I like to think of these purely axiom-derived theorems as supplying strong answers to “why” questions. Why does some fact hold in both Euclidean and non-Euclidean geometry? If we can prove it straight from the postulates, then it is because <em>anything</em> that obeys postulates 1-4 also obeys this rule.</p>
<p>But Hilbert’s method also gives us one more capability. We can ask questions about the consistency of the axioms, and whether some of the axioms are independent. Since there are two interpretations of 1-4 one of which obeys postulate 5 and one of which does not, we can conclude that postulate 5 does not follow from 1-4. That’s a result that took 2,000 years to discover. By moving back and forth between the axioms and some clever special models, we can conclude things just about the axioms. The independence of axiom 5 follows from an argument that uses a model. This is a standard trick today, which is why this was a major development.</p>
<p>When I learned that Frege responded strongly <em>against</em> this idea of Hilbert’s, I was truly surprised. What were his objections? Frege wrote:</p>
<blockquote>
<p>No man can serve two masters. One cannot serve both truth and untruth. If Euclidean geometry is true, then non-Euclidean geometry is false, and if non-Euclidean geometry is true, then Euclidean geometry is false.</p>
</blockquote>
<blockquote>
<p>If one is content to have only phantoms hovering around one, there is no need to take the matter so seriously; but in science we are subject to the necessity of seeking after truth.</p>
</blockquote>
<p>The “phantoms” would presumably be the bare axiom system, devoid of interpretation.</p>
<p>It seems clear Frege is misunderstanding Hilbert, but I think we can learn some important lessons even from that. The misunderstanding is that Frege is unable to, or unaware that he should, merely <em>postpone</em> the interpretation of the axioms. The phantoms are temporary, and the process definitely has two steps. Frege insists in the first quote that the axioms must be <em>true</em> which entails that they also be <em>fully interpreted</em>. He and many other thinkers believed they were being invited to live <em>only</em> in axiom-space, proving empty results with no meaning. This was likened (pejoratively) to a game, and is given the name “formalism”. Hilbert retorted in 1919:</p>
<blockquote>
<p>We are not speaking here of arbitrariness in any sense. Mathematics is not like a game whose tasks are determined by arbitrarily stipulated rules. Rather, it is a conceptual system possessing internal necessity that can only be so and by no means otherwise.<a href="#fn6" class="footnote-ref" id="fnref6" role="doc-noteref"><sup>6</sup></a></p>
</blockquote>
<p>I would argue that Frege is doing more than simply misunderstanding the proposal. He is defending mathematics from being drained of meaning. Hilbert is not of course draining it of meaning, but Frege thought he was and it bothered him. A geometrical point is a mathematical object and claims about it can be true or false, and such claims have value. An axiom is just a phantom, and has no value at all. This is very clarifying for us. If we consider Hilbert’s procedure a piece of new technology, Frege is like a luddite, worrying whether it will damage the field of mathematics.</p>
<p>Frege must have believed this so fully that he did not take advantage of the synergy with his life’s work. The combination of axioms with logic allows an even larger portion of mathematical proofs to remain analytic, rigorous, and also general. The original theorems in planar geometry are fully recovered after performing interpretation, so nothing is lost but many new theorems are gained simultaneously, across all known and future interpretations.</p>
<p>In hindsight, Frege was trying to base his theory of natural numbers directly in platonic philosophical bedrock. He spent many pages arguing philosophically about concepts, functions, and extensions of functions, to lend credence that numbers are real objects. This is the postivist part of his philosophy, but it’s actually not dependent on, or coupled to, the logical tools. We can preserve the logic and the value system, the quest for mathematical truth, and plug these into Hilbert’s axiomatic approach instead of into would-be real objects. In fact maybe we can even preserve the positivism! Frege could have blessed certain interpretations of the axioms as “real” for example. But this counterfactual will not be of use to us here.</p>
<h2 id="modern-foundations-vindication-of-freges-outline-for-logic">4. Modern foundations: vindication of Frege’s outline for Logic</h2>
<h3 id="synthesis-of-frege-and-hilbert">4.1 Synthesis of Frege and Hilbert</h3>
<p>Here is a very informal picture of modern mathematical foundations: mathematics is a graph structure. It’s not a true formal graph, but the metaphor is so close to true that perhaps it could be made precise even without an explicit formalization like the ones we will discuss shortly. Each node is a theorem, and the edges (which are directed) represent the interdependency between the theorems. In other words, each node has a proof that makes use of the incoming edges. Maybe there are multiple proofs, each of which draws on a different subset of the edges. The source nodes, those with no incoming edges, are either axioms or definitions. The leaf nodes, with no outgoing edges, are results that are not yet used to prove something else. Some of these are at the frontier of research, and might be extended one day with outgoing edges to new results.</p>
<p>Let’s fix our attention on some node, such as the theorem which states that the collection of smooth functions {f : M → ℝ | is_smooth(f)} forms an algebra under pointwise multiplication and addition, and multiplication by real numbers. Call this node “is_algebra(M → ℝ)”. Now light up all the nodes that lie on some path that flows into is_algebra(M → ℝ). If we are working in a foundation system like ZFC, then there are some ZFC axiom nodes, and also some definition nodes from various theories that we need (such as topology and calculus). From these there are edges that flow through a bunch of intermediate nodes (lemmas and other theorems) into is_algebra(M → ℝ). For example, somewhere there is a node that states that the pointwise product fg of two smooth functions f, g : M → ℝ is itself smooth. This will be needed to show that the algebra is closed under this operation.</p>
<figure>
<img src="graph.png" alt="Graph of dependencies, relative to the foundation" /><figcaption aria-hidden="true">Graph of dependencies, relative to the foundation</figcaption>
</figure>
<p>This can all be formalized in a computer program (perhaps a proof assistant) that offers a system of logic together with the ZFC axioms. We then have some really valuable outputs: we have is_algebra(M → ℝ) itself, plus some documentation about the proof. But note that it’s <em>relative to</em> a few things:</p>
<ol type="1">
<li>The choice of ZFC as our foundations</li>
<li>The choice of logical system</li>
<li>The computer software, for example Metamath<a href="#fn7" class="footnote-ref" id="fnref7" role="doc-noteref"><sup>7</sup></a>.</li>
</ol>
<p>Hopefully the computer program doesn’t add very much on top of ZFC and the logical system, but it’s always possible there are bugs or other caveats hiding in there, so we’d better include it. We might be using a different proof assistant such as Lean, which uses a form of Martin-Löf type theory (MLTT) and which in general supports only constructive logic (though I hasten to add that you can add extra axioms that permit classical reasoning such as the law of excluded middle, in which case the results are simply applicable to fewer interpretations of MLTT.)</p>
<p>This relativism is a part of the modern picture of mathematics that I want to highlight so we can compare it with Frege’s ideas. Mathematicians themselves explore the relativism <em>inside of mathematics</em>, by swapping in various axiom systems and various logical systems, and re-proving the theorems. Some mathematicians practice <em>reverse mathematics</em><a href="#fn8" class="footnote-ref" id="fnref8" role="doc-noteref"><sup>8</sup></a> which is a project to explore the entire graph I described, for example by discovering requirements for some given axiom system to support (flow to) some family of theorems. Software practitioners that use multiple computer software packages in fact <em>must</em> move between foundations, since with our current technology they are forced to reimplement theorems in each programming language separately, and those languages may also have different logics. There is a large body of Coq software, and a separte body of Lean software as well that covers an overlapping set of theorems, and similar bodies of software in other languages.</p>
<p>Frege acknowledged that there may be imperfections in his logical axioms and inference rules. In fact he was made aware of a paradox by Bertrand Russell and tried to repair it. But he doesn’t indicate that we should entertain having more than one such system. It’s nearly certain that his views were incompatible with such a notion. As we saw, he tried in true positivist fashion to ground his logic in philosophical bedrock, in order to increase the world’s total number of true, positivist, complete logics from zero to one. His aversion to Hilbert’s rootless vision of axiom systems is another hint that there was room for only one version of the truth. We can’t rule out that he could have made room for multiple foundational vantage points, of course. Setting that difference aside, the narrative that begins <em>after</em> we select a foundation is very much compatible with Frege: we use the foundation to prove the same family of theorems, on the same quest for scientific truth, and establish them firmly and free of gaps.</p>
<h3 id="type-theory">4.2 Type theory</h3>
<p>The particular foundation offered by Martin-Löf’s intuitionistic type theory<a href="#fn9" class="footnote-ref" id="fnref9" role="doc-noteref"><sup>9</sup></a><a href="#fn10" class="footnote-ref" id="fnref10" role="doc-noteref"><sup>10</sup></a> is especially noteworthy in this context, since it so perfectly incorporates the Hilbert picture into the foundations, while also capturing all three of Frege’s most important contributions that I am highlighting: logic, a system of types, and two kinds of equality. In intuitionistic type theory the types are “Hilbertian”, meaning they are abstract objects that are meant to eventually be interpreted into more concrete mathematical objects. And the interpretation process is completely formal and mathematical! For example if a mathematician has some objects of interest to which they wish to apply type theory (such as sets, or sheaves of sets over a topological space, or many other examples), they simply have to arrange for those objects to live inside a category with a few specific properties and the type theory will automatically be interpretable on these objects. Proofs expressed in type theory become proofs about those objects. Different versions of type theory with more or fewer features will require different features to be present in the category. That covers the Hilbert side of things.</p>
<p>On the Frege side, intuitionistic type theory has his notion of function objects and his distinction between free and bound variables, and the requirement that variables have types. It’s definitely more fleshed out and carefully thought through than what Frege gave us, but I believe it fulfils the very requirements that Frege set out.</p>
<p>Miraculously, in type theory the logical framework is actually emergent from the type system! This is in some sense the greatest validation of Frege of all. Just by having function types, product types, and coproduct types, and assigning universal properties to these, we do not need to separately impose a logic. The behavior of the function types automatically establishes that B ∧ (B → A) → A. The behavior of the product types satisfies the rules of conjunction, and the coproduct types do the same for disjunction. Type theorists call this emergent logic “internal” since it uses the material of the types to state and prove results. Whereas Frege’s goal was to absorb the natural numbers, and hence part of mathematics, into logic, the modern perspective is to couple them in the opposite way: it is logic that is emergent!</p>
<p>Finally we come to Frege’s distinction between “a = a” and “a + b = b + a”, which he discusses in a few places including in <em>On Sense and Reference</em> (1892). This has been the most recent and perhaps unexpected vindication of Frege’s priorities. Intuitionistic type theory indeed includes exactly the two kinds of equality Frege distinguished. One of them, dubbed “judgmental equality”, operates at the level of sense while the other, named “propositional equality”, which is a <em>type</em>, corresponds to reference. Having equality of sense gives you equality of reference automatically, but not vice versa. The exploration of these propositional equality types has led to the discovery of homotopy type theory and its infinite tower of equality types. Since equality is a type, there can be equalities between equalities and so on. This then turns out to generate an even more powerful theory for proving mathematical results.</p>
<h2 id="proof-assistants-vindication-of-the-concept-script">5. Proof assistants: vindication of the concept script</h2>
<p>Frege’s vision was for mathematicians to use logic and gap-free formal methods to strengthen the research they were already doing, i.e. the seeking of scientific truth. Nowhere is this goal more visibly realized than in the community projects that have grown up around various proof assistants. Two prominent examples are Mathematical Components<a href="#fn11" class="footnote-ref" id="fnref11" role="doc-noteref"><sup>11</sup></a>, which uses the Coq proof assistant, and Mathlib<a href="#fn12" class="footnote-ref" id="fnref12" role="doc-noteref"><sup>12</sup></a> which uses the newer Lean proof assistant. There are mathematical communities around each of the other proof assistants as well, such as Isabelle, HOL Light, Agda, and so on. Some of these communities are growing quickly<a href="#fn13" class="footnote-ref" id="fnref13" role="doc-noteref"><sup>13</sup></a>, and I imagine new languages will come along every few years as well to stir the pot. The mathematical communities and their leadership are distinct from the teams that implement and support the proof assistant software. The goal is to formalize some body of mathematics, eventually all of it, <em>using</em> the proof assistant. The math libraries are therefore a combination of a software project and a mathematical project. We should equate the focus of these teams on the mathematical content itself, and not just the tools, with an alignment with Frege’s vision of the concept script as a mere microscope.</p>
<p>It will help to tease out what parts of the mathematical agenda the computer is currently helping with, because then we can spot the area where the crisis has begun. To study this I used the Lean proof assistant myself. I proved the proposition we discussed above, is_algebra(M → ℝ)<a href="#fn14" class="footnote-ref" id="fnref14" role="doc-noteref"><sup>14</sup></a>. Lean has a small “trusted kernel” where the core logic is implemented, and this corresponds to Frege’s logic, albeit expanded into the more powerful logic of dependent type theory. In addition to the kernel, the language allows proofs to be built up incrementally with tactics that advance the state of the proof by applying various transformations and lemmas. Sometimes it’s more intuitive to apply a tactic to the chain of steps that started with the assumptions, and sometimes you want to apply a tactic to transform the chain that leads to the goal. Eventually they will meet in the middle and form an unbroken chain. The software permits you to focus on one step as a possibly large sub-problem, which becomes the current lemma to prove. What the computer is offering among other things is a set of affordances to support a linear ordering of the work.</p>
<p>I browsed the library of theorems about smooth and topological manifolds, and the library of definitions around vector spaces, rings, and algebras. I saw how to create an algebra out of a carrier object plus some operations, plus proofs that the carrier object was closed under those operations. I will call this the “proof strategy”. Then I performed the work to enter all this data into my own source file. At any given moment I could choose a place to add links to the logical graph structure, at which point I had to type something! Knowing what to type after you choose a location is a tough sub-problem that I want to highlight. In summary, to formalize a proof you must:</p>
<ol type="1">
<li>Formalize all the definitions.</li>
<li>Plan the strategy, i.e. the method of proof. In my case the strategy was to prove that the collection of smooth real-valued functions satisfied each of the half-dozen requirements to be an algebra.</li>
<li>Perform many iterations of the small-scale tactical piece: select a rule or lemma from the library, and apply it somewhere on the frontier of the proof.</li>
<li>Choose an order to perform the actions in 3.</li>
</ol>
<p>The community manages the storage of definitions and existing theorems in the digital library (such as the Mathlib Github repository), which helps with 1. The mathematical content exists mainly in 2. Often an existing known proof is what you need to formalize, but in other situations you might have reason to prove the result with a different method in order to fit the logic being used. For example, some type theories do not offer classical logic such as the law of the excluded middle, requiring constructive proofs. Often these are not available in the literature. The computer helps with 3 and 4, and I want to come back and focus on 3 in a moment.</p>
<p>Lean’s tactics engine is one way to support 4. The whole paradigm of tactics is that you build up the proof from small commands. But other systems like Agda lack this explicitly incremental paradigm. Instead they offer interactive tools to probe the state of the proof, or leave figurative holes to come back to later. These contortions that the user went to are not saved with the file, however.</p>
<p>So what about 3? If you are in the middle of a proof, and you believe that elsewhere in the library is a lemma that the pointwise product of two smooth functions is smooth, how do you find it so that you can type its name? What if you don’t know whether that lemma is available or not? This portion of the task is not apparent in Frege’s description but turns out to dominate the work. This is also the least mathematical part of the process! And it is here where mathematicians began to envision a role for artificial intelligence. What if I was in the middle of this proof and I could ask the proof assistant to <em>search</em> for an appropriate lemma? It could use any combination of brute-force search through all the definitions in the library, or some naming hints, or even some patterns learned from a database of example proofs. All of these approaches are taken by a diverse collection of tactics. The most general-purpose tools are sometimes called “hammers” because of the name of an early paradigmatic example. The community is eager for new hammers to help with such searches. One recent example in Coq was worthy of publication<a href="#fn15" class="footnote-ref" id="fnref15" role="doc-noteref"><sup>15</sup></a>. The expertise required is a quite orthogonal to the content of smooth manifolds, and so it makes sense for a different sort of specialist to help tackle it.</p>
<p>But at the same time, once the AI community became aware of how much progress the formalization community had made, something else began to take place.</p>
<h2 id="the-privilege-to-do-math">6. The privilege to do math</h2>
<p>For fear of obfuscating what I want to say, let me start by simply stating it: I think limiting the definition of “doing mathematics” to people would be healthy and might even be a tautology that none of us can doing anything about. I think we should close ranks to defend this position because it is being attacked under the cloak of AI research. But I also think that computers are amazing tools and I have devoted my own career to making them smarter. Many mathematicians feel the same way, especially those in the formalization community that I have described. This makes it seem that I am trying to split hairs, and I worry that this appearance will make it even more difficult to mount a humanist defense against AI. My goal for the rest of this section is to convince you that:</p>
<ol type="1">
<li>Some prominent AI researchers want to redefine art, music, the playing of games, and even mathematics to include computers as the doers.</li>
<li>Some mathematicians want to yield this.</li>
<li>Frege offers a vision for compartmentalizing the use of computers in math.</li>
</ol>
<p>Frege maintained a separation between the epistemological certainty of logic and the human project to create mathematics, physics, and other sciences. But there was no pressing reason to establish demarcations lines around the act of doing science. There were academic gatekeepers and power structures that implicitly defined what was legitimate research, and those structures look similar in many ways today. It is more than likely that these systems of power are corrupt and unjust. But they are also relatively <em>mindless</em>. There is no governing body that mediates the perpetuation of academic privilege, it just brings benefits to those it benefits, and often those benefits snowball into the kind of power and clout that allows the beneficiaries to control the future and preserve the system. Confronting unfair systems is a fantastic project that I believe our society is embarking on, and it will bring tremendous benefits to many people and unlock more of our potential. The future can be better, but we must also insist that the future be humanist. We have to assert a few tautologies, such as “art is something people do”, “music is something people do”, and “mathematics is something people do”.</p>
<p>In the 2020 Quanta Magazine article “How Close are Computers to Automating Mathematical Reasoning”<a href="#fn16" class="footnote-ref" id="fnref16" role="doc-noteref"><sup>16</sup></a> we get a good status report on where we stand with the humanist part of Frege’s program, for good and ill. Several researchers are quoted in the article, but their viewpoints do not gel into a single coherent narrative. The picture becomes much clearer if we examine each quote and ask “is this person focused on helping <em>people</em> do math, or computers?”</p>
<p>Michael Harris wants people such as himself to do math and he worries that a proof assistant would make it harder: “By the time I’ve reframed my question into a form that could fit into this technology, I would have solved the problem myself.”</p>
<p>Kevin Buzzard wants computers to do the math and claims that mainstream mathematians want the same: “Computers have done amazing calculations for us, but they have never solved a hard problem on their own,” he said. “Until they do, mathematicians aren’t going to be buying into this stuff.” I want to especially note the circular salesmanship in this sentiment: we want computers to get better at doing math because we want to sell the project to mathematicians, presumably so that computers can continue to do more math <em>for them</em>.</p>
<p>Emily Riehl wants learn to do math with a proof assistant and wants her students to do it too: “It’s not necessarily something you have to use all the time, and will never substitute for scribbling on a piece of paper,” she said, “but using a proof assistant has changed the way I think about writing proofs.”</p>
<p>But two computer scientists, Christian Szegedy (at Google) and Josef Urban (at the Czech Institute of Informatics, Robotics and Cybernetics) want to teach computers to do math without any human involvement:</p>
<blockquote>
<p>Urban was partially inspired by Andrej Karpathy, who a few years ago trained a neural network to generate mathematical-looking nonsense that looked legitimate to nonexperts. Urban didn’t want nonsense, though — he and his group instead designed their own tool to find new proofs after training on millions of theorems. Then they used the network to generate new conjectures and checked the validity of those conjectures using an ATP called E.</p>
<p>The network proposed more than 50,000 new formulas, though tens of thousands were duplicates. “It seems that we are not yet capable of proving the more interesting conjectures,” Urban said.</p>
</blockquote>
<blockquote>
<p>[Szegedy’s] group at Google Research recently described a way to use language models — which often use neural networks — to generate new proofs. After training the model to recognize a kind of treelike structure in theorems that are known to be true, they ran a kind of free-form experiment, simply asking the network to generate and prove a theorem without any further guidance. Of the thousands of generated conjectures, about 13% were both provable and new (meaning they didn’t duplicate other theorems in the database). The experiment, he said, suggests that the neural net could teach itself a kind of understanding of what a proof looks like.</p>
<p>“Neural networks are able to develop an artificial style of intuition,” Szegedy said.</p>
</blockquote>
<p>We will come back to Szegedy and the idea of computers generating theorems shortly. Timothy Gowers says computers will literally replace mathematicians (without saying whether he thinks this is good):</p>
<blockquote>
<p>mathematicians will enjoy a kind of golden age, “when mathematicians do all the fun parts and computers do all the boring parts. But I think it will last a very short time.”</p>
</blockquote>
<p>Michael Harris has some pushback on this: “Even if computers understand, they don’t understand in a human way.”</p>
<p>Szegedy’s confusion can be traced to a misreading of Frege. Here is Szegedy’s definition of mathematics:</p>
<blockquote>
<p>Mathematics is the discipline of pure reasoning. Mathematical reasoning is not about mathematics per se, it is about reasoning in general.</p>
</blockquote>
<p>This is taken from Szegedy’s 2020 article<a href="#fn17" class="footnote-ref" id="fnref17" role="doc-noteref"><sup>17</sup></a> as cited by Harris<a href="#fn18" class="footnote-ref" id="fnref18" role="doc-noteref"><sup>18</sup></a>, who grapples in public with this particular use of AI.</p>
<p>Clearly there is a group of</p>
<p>Suppose you are a mathematician who finishes reading this article and feels a sense of disgust and dread, as I did. Where is it coming from? I would offer a final consultation with Frege to get to the bottom of it. Frege wanted to derive arithmetic from logic in order to give it the firmest epistemological status of all: <em>analytic truth</em>. Facts that do not require checking any data at all, but simply emerge from the logical bedrock. Frege compares it in the <em>Begriffsschrift</em> to condensation of moisture from the air into visible droplets. It’s not very likely that Frege succeeded in this project, since he had to introduce functions and sets and other ideas in order to eventually state what the natural numbers are. Analytic truths may be entirely too trivial to generate anything of interest to a person, or a mathematician for that matter.</p>
<p>Computers are analytic machines. They contain only logic gates and storage. If we feed a neural network a corpus of photographs paired with English text captions, we can build a tool that lets users type “banana” and see some hallucination of a banana. The banana is built from… what? Its inputs are:</p>
<ol type="1">
<li>Photographs taken by people, paired with captions written by people.</li>
<li>The specification of a neural network input by people.</li>
<li>The specification of a learning objective such as an error rate matching captions to images, input by a person.</li>
</ol>
<p>The output after typing “banana” is determined by these inputs. Every iota of agency is human. None is the computer’s. Szegedy and Urban must fundamentally disagree, since the software they are busy building would be software that takes responsibility for composing new photographs and captions. The analytic engine, that still contains only inputs 1, 2, and 3, would gain respondibility for performing action 1. The misunderstanding is so complete that it can generate horror.</p>
<p>Here’s another analogy that I find helpful. Imagine the songwriter Paul McCartney sitting with his guitar trying to write a new song under a deadline<a href="#fn19" class="footnote-ref" id="fnref19" role="doc-noteref"><sup>19</sup></a>. He decides to strum in a fast rhythm, moving between a few chords while humming some notes. The sound of his guitar and his own humming come back into his ears and he listens to the proto-music and reacts to it, extending the melodic line and tweaking the chords. After about a minute, he is humming the melody of the song “Get Back” and the act of creativity is complete. In this story Paul is the mathematician and mathematics is the music. The guitar is the proof assistant! He both plays the guitar, and listens to the guitar. The guitar makes noises he could never make with his own body, but he must operate it. In some sense when you strum the guitar, you don’t know exactly what it will sound like. The guitar lets you know. Now imagine that a journalist from Quanta observes Paul’s songwriting session and writes an article with the headline “Guitar finally writes music”.</p>
<p>I hope that our discussion of Frege’s vision, and of the living embodiment of his vision in the community of formal mathematics, makes this statement appear as wrong as wrong can be. The good news is that it is fully explanatory of why someone would pursue so tautological a project as building a machine to emit theorems and proofs and call it mathematics.</p>
<p>If you worry as I do that mathematics is nowhere to be found in Szegedy’s vision, but that Google may coopt the power to define mathematics as it sees fit and starve traditional mathematical activity of resources, human and capital, then we can start also wondering what to do about it.</p>
<p>Besides proving and re-proving theorems, the activity of formalization has the side effect of digitizing mathematical results and their proofs. The structured files are tautologically machine-readable, and so can be mined for other purposes if posted on the public internet without restricted licenses. Whenever data is being moved from the context in which it was created into a new context, we need to be on the lookout for ethical lapses, both intended and accidental.</p>
<p>Digital mathematical repositories are under investigation by various teams with multiple applications in mind. Here is a survey of a few such projects:</p>
<p><a href="https://formalabstracts.github.io">FAbstracts</a>. This project has a muddled vision statement, including the incompatible goals of “FAbstracts enables machine learning in math”, and “tools for exploration such as a Google Earth for mathematics, providing an intuitive visual map of the entire world of mathematics”.</p>
<p><a href="https://topos.site/blog/2021/07/introducing-the-mathfoldr-project/">Mathfoldr</a>. This project has more humanistic goals: “MathFoldr will provide search and literature curation tools that will make mathematics more accessible, with the ultimate goal of transforming the way mathematics is created and navigated”.</p>
<h2 id="conclusion-469">7. Conclusion (469)</h2>
<p><strong>Stick with Frege. Protect math.</strong></p>
<p>Frege thought he saw phantoms when he was introduced to formalism. What would he make of the images emitted by deep learning networks that are tuned on millions of images and textual captions, then inverted to generate images from text? These networks are just logical systems that digest data and update themselves in a way that minimizes a calculated value. When we type “banana” and examine the resulting image, we face a test. One common response is to marvel that the computer can generate an image of a banana, and to compare the psychedelic patterns of noise to human art. These are the people who see phantoms but believe they are seeing people. The computer cannot generate new material, it is truly an analytic machine and can only permute the human input according to human-programmed rules. They project human intent and human creativity onto the machine, and it’s hard to imagine a more confused and degrading response. This fearful situation is not some cherry-picked analogy. Literally the same engineers who built these tools are looking at mathematical theorems and proofs as another corpus to ingest. They plan to build machines that emit pictures of mathematical bananas, and hope that we keep projecting ourselves onto their work. We are the instruments who will launder their tautologies and call it mathematics.</p>
<p>Humans have always had a complex relationship with our tools. We use them for certain purposes, but we also improve them. Sometimes the tool is at the center, sometimes at the periphery. Tools that have had especially wide-ranging impacts include writing and its sequels: the printing press and the digital computer. In the 21st century the computer has proven especially effective at drawing our attention away from the problems it is solving and directing them inward, into the computer. The field of mathematics has its own parallel narrative of interactions with these technologies. Consider for example the growing turmoil around the mathematical publishing industry. It’s not very unfair to stipulate that there are rapacious commercial entities who mine mathematical writing for profit and adopt exploitative practices entirely divorced from the goals of the community itself. Who see mathematics not as value-laden directly, but who see the value it holds for us and to leverage it, to trade it for money and power, rather than enhance it. I would further stipulate that this sort of antagonistic system is an outgrowth of even more general systems of culture and capital. The logical inference is that we should be constantly assessing our alignment with such entities, to try to preserve what we value. If we value the human activity of generating beautiful mathematical theories with high standards of rigor, as Frege did, then we have a simple test we can perform. We can ask whether the other entity shares that goal or not.</p>
<p>TODO: analytic, as good, but as bad.</p>
<section class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr />
<ol>
<li id="fn1" role="doc-endnote"><p><em>Begriffsschrift</em>, p. 1<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2" role="doc-endnote"><p>Read more at https://en.wikipedia.org/wiki/Square_of_opposition<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3" role="doc-endnote"><p>https://www.imo.universite-paris-saclay.fr/~pmassot/files/exposition/why_formalize.pdf<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4" role="doc-endnote"><p>Daston, Lorraine. “Calculation and the Division of Labor, 1750-1950.” Bulletin of the German Historical Institute 62.Spring (2018): 9-30.<a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn5" role="doc-endnote"><p>https://mathworld.wolfram.com/ParallelPostulate.html<a href="#fnref5" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn6" role="doc-endnote"><p>https://en.wikipedia.org/wiki/David_Hilbert#cite_note-44<a href="#fnref6" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn7" role="doc-endnote"><p>Megill, Norman D. and Wheeler, David A. (2019) <em>Metamath: A Computer Language for Mathematical Proofs</em>, Lulu Press. http://us.metamath.org/downloads/metamath.pdf<a href="#fnref7" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn8" role="doc-endnote"><p>Simpson, Stephen G. (2009), <em>Subsystems of second-order arithmetic</em>, Perspectives in Logic (2nd ed.), Cambridge University Press.<a href="#fnref8" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn9" role="doc-endnote"><p>https://en.wikipedia.org/wiki/Intuitionistic_type_theory<a href="#fnref9" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn10" role="doc-endnote"><p>https://plato.stanford.edu/entries/type-theory-intuitionistic/<a href="#fnref10" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn11" role="doc-endnote"><p>https://math-comp.github.io<a href="#fnref11" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn12" role="doc-endnote"><p>https://leanprover-community.github.io<a href="#fnref12" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn13" role="doc-endnote"><p>https://leanprover-community.github.io/mathlib_stats.html<a href="#fnref13" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn14" role="doc-endnote"><p>https://github.com/glangmead/geometry/blob/ab8cbeab722eb3df8d77885f812af8063b1f5906/src/algebra_of_smooth_functions.lean<a href="#fnref14" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn15" role="doc-endnote"><p>Czajka, Ł., Kaliszyk, C. Hammer for Coq: Automation for Dependent Type Theory. J Autom Reasoning 61, 423–453 (2018). https://doi.org/10.1007/s10817-018-9458-4<a href="#fnref15" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn16" role="doc-endnote"><p>https://www.quantamagazine.org/how-close-are-computers-to-automating-mathematical-reasoning-20200827/<a href="#fnref16" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn17" role="doc-endnote"><p>Szegedy C. (2020) A Promising Path Towards Autoformalization and General Artificial Intelligence. In: Benzmüller C., Miller B. (eds) Intelligent Computer Mathematics. CICM 2020. Lecture Notes in Computer Science, vol 12236. Springer, Cham. https://doi.org/10.1007/978-3-030-53518-6_1<a href="#fnref17" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn18" role="doc-endnote"><p>https://siliconreckoner.substack.com/p/intelligent-computer-mathematics<a href="#fnref18" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn19" role="doc-endnote"><p>https://www.youtube.com/watch?v=9kOQ5sgzhRA<a href="#fnref19" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>
